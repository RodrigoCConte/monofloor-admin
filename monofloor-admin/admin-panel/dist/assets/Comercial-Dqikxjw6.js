import{d as jt,r as u,E as Rt,D as H,c as l,b as t,F as M,y as F,f,v as _,w as P,s as O,a as X,q as w,z as we,t as n,o as s,_ as Ut,u as uo,j as vo,k as po,l as mo,e as p,U as ne,I as me,x as fe,m as Vt,n as fo,Y as go,W as re,Z as U,G as ho}from"./index-BzdWGBMK.js";import{_ as yo}from"./saturn-CvwfwOtg.js";import{c as bo,h as _o,k as wo,m as ko}from"./socket-CQohDNAV.js";const xo={class:"pipeline-settings"},Co={class:"pipeline-settings__groups"},Eo={class:"pipeline-settings__group-header"},Ao=["onUpdate:modelValue","onBlur"],Mo=["onUpdate:modelValue","onChange"],No={class:"pipeline-settings__stages"},Po=["onDragstart","onDragover","onDrop"],Fo=["onUpdate:modelValue"],To=["onUpdate:modelValue"],Oo={class:"pipeline-settings__stage-probability"},So=["onUpdate:modelValue"],Do=["disabled","onClick"],Lo=["onClick"],$o={class:"pipeline-settings__preview"},Bo={class:"pipeline-settings__preview-stages"},Io={class:"pipeline-settings__preview-name"},Vo={class:"pipeline-settings__preview-probability"},jo=jt({__name:"PipelineSettings",props:{stages:{}},emits:["save","reset"],setup(gt,{emit:ge}){const m=gt,Z=ge,k=u(null),W=u(null),z=u([]),te=()=>{const g=new Map,c=new Map;[...m.stages].sort((x,b)=>(x.sortOrder??0)-(b.sortOrder??0)).forEach(x=>{const b=x.groupName||"Outros";g.has(b)||(g.set(b,[]),c.set(b,x.color)),g.get(b).push({...x})}),z.value=Array.from(g.entries()).map(([x,b])=>({name:x,color:c.get(x)||"#666",stages:b}))};te(),Rt(()=>m.stages,te,{deep:!0});const r=H(()=>{const g=[];let c=0;return z.value.forEach(y=>{y.stages.forEach(x=>{g.push({...x,groupName:y.name,sortOrder:c++})})}),g}),ke=()=>`stage-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,de=g=>{const c=z.value[g];if(!c)return;const y={id:ke(),name:"Novo est√°gio",color:c.color,probability:50,groupName:c.name,sortOrder:c.stages.length};c.stages.push(y)},qe=(g,c)=>{const y=z.value[g];if(!y)return;const x=y.stages[c];!x||x.isDefault||y.stages.splice(c,1)},He=()=>{z.value.push({name:"Novo Grupo",color:"#666666",stages:[]})},B=g=>{const c=z.value[g];c&&c.stages.forEach(y=>{y.groupName=c.name})},K=g=>{},ce=(g,c,y,x)=>{k.value=c,W.value={groupIndex:y,stageIndex:x},g.dataTransfer.effectAllowed="move"},he=()=>{k.value=null,W.value=null},J=(g,c,y)=>{g.dataTransfer.dropEffect="move"},Q=(g,c,y)=>{if(!k.value||!W.value)return;const x=z.value[W.value.groupIndex],b=z.value[c];!x||!b||(x.stages.splice(W.value.stageIndex,1),W.value.groupIndex!==c&&(k.value.groupName=b.name),b.stages.splice(y,0,k.value),k.value=null,W.value=null)},ue=()=>{Z("save",r.value)},T=()=>{Z("reset")};return(g,c)=>(s(),l("div",xo,[c[6]||(c[6]=t("div",{class:"pipeline-settings__header"},[t("h2",{class:"pipeline-settings__title"},"Configurar Pipeline"),t("p",{class:"pipeline-settings__subtitle"}," Personalize os est√°gios do seu funil de vendas ")],-1)),t("div",Co,[(s(!0),l(M,null,F(z.value,(y,x)=>(s(),l("div",{key:y.name,class:"pipeline-settings__group"},[t("div",Eo,[f(t("input",{"onUpdate:modelValue":b=>y.name=b,class:"pipeline-settings__group-name-input",placeholder:"Nome do grupo",onBlur:b=>B(x)},null,40,Ao),[[_,y.name]]),f(t("input",{type:"color","onUpdate:modelValue":b=>y.color=b,class:"pipeline-settings__color-picker",onChange:b=>K()},null,40,Mo),[[_,y.color]])]),t("div",No,[(s(!0),l(M,null,F(y.stages,(b,xe)=>(s(),l("div",{key:b.id,class:O(["pipeline-settings__stage",{"pipeline-settings__stage--dragging":k.value?.id===b.id}]),draggable:"true",onDragstart:$=>ce($,b,x,xe),onDragend:he,onDragover:P($=>J($),["prevent"]),onDrop:$=>Q($,x,xe)},[c[2]||(c[2]=X('<div class="pipeline-settings__stage-handle" data-v-76ba680e><svg viewBox="0 0 24 24" fill="currentColor" data-v-76ba680e><circle cx="9" cy="6" r="1.5" data-v-76ba680e></circle><circle cx="15" cy="6" r="1.5" data-v-76ba680e></circle><circle cx="9" cy="12" r="1.5" data-v-76ba680e></circle><circle cx="15" cy="12" r="1.5" data-v-76ba680e></circle><circle cx="9" cy="18" r="1.5" data-v-76ba680e></circle><circle cx="15" cy="18" r="1.5" data-v-76ba680e></circle></svg></div>',1)),f(t("input",{type:"color","onUpdate:modelValue":$=>b.color=$,class:"pipeline-settings__stage-color"},null,8,Fo),[[_,b.color]]),f(t("input",{"onUpdate:modelValue":$=>b.name=$,class:"pipeline-settings__stage-name",placeholder:"Nome do est√°gio"},null,8,To),[[_,b.name]]),t("div",Oo,[f(t("input",{type:"number","onUpdate:modelValue":$=>b.probability=$,min:"0",max:"100",class:"pipeline-settings__probability-input"},null,8,So),[[_,b.probability,void 0,{number:!0}]]),c[0]||(c[0]=t("span",{class:"pipeline-settings__probability-label"},"%",-1))]),t("button",{class:"pipeline-settings__stage-delete",title:"Remover est√°gio",disabled:b.isDefault,onClick:$=>qe(x,xe)},[...c[1]||(c[1]=[X('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-76ba680e><polyline points="3 6 5 6 21 6" data-v-76ba680e></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" data-v-76ba680e></path><line x1="10" y1="11" x2="10" y2="17" data-v-76ba680e></line><line x1="14" y1="11" x2="14" y2="17" data-v-76ba680e></line></svg>',1)])],8,Do)],42,Po))),128)),t("button",{class:"pipeline-settings__add-stage",onClick:b=>de(x)},[...c[3]||(c[3]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1),w(" Adicionar est√°gio ",-1)])],8,Lo)])]))),128)),t("button",{class:"pipeline-settings__add-group",onClick:He},[...c[4]||(c[4]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1),w(" Adicionar grupo ",-1)])])]),t("div",$o,[c[5]||(c[5]=t("h3",{class:"pipeline-settings__preview-title"},"Preview do Pipeline",-1)),t("div",Bo,[(s(!0),l(M,null,F(r.value,y=>(s(),l("div",{key:y.id,class:"pipeline-settings__preview-stage",style:we({borderColor:y.color})},[t("div",{class:"pipeline-settings__preview-indicator",style:we({backgroundColor:y.color})},null,4),t("span",Io,n(y.name),1),t("span",Vo,n(y.probability??50)+"%",1)],4))),128))])]),t("div",{class:"pipeline-settings__actions"},[t("button",{class:"pipeline-settings__btn pipeline-settings__btn--secondary",onClick:T}," Restaurar padr√£o "),t("button",{class:"pipeline-settings__btn pipeline-settings__btn--primary",onClick:ue}," Salvar altera√ß√µes ")])]))}}),Ro=Ut(jo,[["__scopeId","data-v-76ba680e"]]),Uo={class:"crm"},zo={key:0,class:"crm-header"},qo={class:"crm-header__top"},Ho={class:"specialist-name pixel-text"},Go={class:"crm-header__actions"},Wo={class:"crm-kpis"},Ko={class:"kpi-card kpi-card--deals"},Zo={class:"kpi-card__content"},Jo={class:"kpi-card__value"},Qo={class:"kpi-card kpi-card--pipeline"},Yo={class:"kpi-card__content"},Xo={class:"kpi-card__value"},es={class:"kpi-card kpi-card--won"},ts={class:"kpi-card__content"},as={class:"kpi-card__value"},os={class:"kpi-card kpi-card--conversion"},ss={class:"kpi-card__content"},ls={class:"kpi-card__value"},is={class:"kpi-card kpi-card--avg"},ns={class:"kpi-card__content"},rs={class:"kpi-card__value"},ds={class:"kpi-card kpi-card--ticket"},cs={class:"kpi-card__content"},us={class:"kpi-card__value"},vs={key:1,class:"search-bar-container"},ps={key:0,class:"search-suggestions"},ms={key:0,class:"search-suggestions__empty"},fs=["onMousedown"],gs={class:"search-suggestion__main"},hs={class:"search-suggestion__name"},ys=["innerHTML"],bs={class:"search-suggestion__details"},_s={key:0,class:"search-suggestion__phone"},ws={key:1,class:"search-suggestion__email"},ks={key:0,class:"search-suggestion__location"},xs={key:2,class:"filters-bar"},Cs={class:"filter-group"},Es={class:"filter-group"},As=["value"],Ms={class:"filter-group"},Ns={class:"filter-group"},Ps=["onDragover","onDrop"],Fs={class:"pipeline-column__header"},Ts={class:"pipeline-column__title"},Os=["innerHTML"],Ss={class:"pipeline-column__meta"},Ds={class:"pipeline-column__count"},Ls={class:"pipeline-column__value"},$s=["onClick"],Bs={class:"pipeline-column__body"},Is=["onDragstart","onClick"],Vs={class:"deal-card__header"},js={class:"deal-card__name"},Rs={class:"deal-card__id"},Us={key:0,class:"deal-card__tags"},zs={key:0,class:"deal-card__tag deal-card__tag--tipo"},qs={key:0,class:"deal-card__tag-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},Hs={key:1,class:"deal-card__tag-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},Gs={key:1,class:"deal-card__tag deal-card__tag--m2"},Ws={class:"deal-card__value"},Ks={key:1,class:"deal-card__location"},Zs={class:"deal-card__footer"},Js=["title"],Qs={class:"deal-card__specialist-name"},Ys={class:"deal-card__actions"},Xs=["onClick"],el=["onClick"],tl=["onClick"],al={key:0,class:"pipeline-column__empty"},ol={class:"modal modal--large"},sl={class:"modal__header"},ll={class:"modal__header-content"},il={class:"modal__title"},nl={class:"modal__badges"},rl={key:0,class:"badge badge--tipo"},dl={key:1,class:"badge badge--projeto"},cl={class:"modal__actions"},ul=["href"],vl={class:"pipeline-progress"},pl={class:"pipeline-progress__track"},ml=["onClick","title"],fl={key:0,class:"pipeline-progress__train"},gl={class:"pipeline-progress__days"},hl={class:"pipeline-progress__stage-name"},yl={class:"pipeline-progress__final"},bl={class:"modal__body modal__body--scroll"},_l={class:"detail-section"},wl={class:"detail-grid detail-grid--highlight"},kl={class:"detail-item detail-item--highlight"},xl={class:"detail-item"},Cl={class:"detail-item"},El={class:"detail-item"},Al=["value"],Ml={class:"detail-section"},Nl={class:"detail-grid"},Pl={class:"detail-item"},Fl={class:"detail-item"},Tl={class:"detail-item"},Ol={class:"detail-value"},Sl={class:"detail-item"},Dl={class:"detail-value"},Ll={class:"detail-section"},$l={class:"detail-grid"},Bl={class:"detail-item detail-item--full"},Il={class:"detail-item"},Vl={class:"detail-item"},jl={class:"detail-item"},Rl={class:"detail-value"},Ul={class:"detail-item"},zl={class:"detail-item"},ql={class:"detail-item"},Hl={key:0,class:"detail-section"},Gl={class:"detail-grid"},Wl={class:"detail-item"},Kl={class:"detail-item detail-item--full"},Zl={class:"detail-section"},Jl={class:"detail-grid"},Ql={class:"detail-item detail-item--full"},Yl={class:"detail-item detail-item--full"},Xl={class:"detail-section"},ei={key:0,class:"detail-loading"},ti={key:1,class:"detail-empty"},ai={key:2,class:"anexos-list"},oi={class:"anexo-item__icon"},si={class:"anexo-item__info"},li={class:"anexo-item__nome"},ii={class:"anexo-item__meta"},ni={key:0},ri={class:"anexo-item__actions"},di=["onClick"],ci=["onClick"],ui={class:"detail-section"},vi={key:0,class:"detail-loading"},pi={key:1,class:"detail-empty"},mi={key:2,class:"orcamentos-list"},fi={class:"orcamento-item__date"},gi={class:"orcamento-item__info"},hi={key:0,class:"orcamento-item__valor"},yi={key:1,class:"orcamento-item__metragem"},bi={key:2,class:"orcamento-item__proposta"},_i={key:0,class:"orcamento-item__desc"},wi=["onClick"],ki={key:1,class:"detail-section"},xi={class:"analytics-stats"},Ci={class:"analytics-stat"},Ei={class:"analytics-stat__value"},Ai={class:"analytics-stat"},Mi={class:"analytics-stat__value"},Ni={class:"analytics-stat"},Pi={class:"analytics-stat__value"},Fi={class:"analytics-stat"},Ti={class:"analytics-stat__value"},Oi={class:"analytics-devices"},Si={class:"analytics-device",title:"Desktop"},Di={class:"analytics-device",title:"Mobile"},Li={class:"analytics-device",title:"Tablet"},$i={key:0,class:"analytics-views"},Bi={class:"analytics-views__list"},Ii=["onClick"],Vi={class:"analytics-view-item__device"},ji={class:"analytics-view-item__time"},Ri={class:"analytics-view-item__duration"},Ui={class:"analytics-view-item__scroll"},zi={key:0,class:"analytics-view-item__play",title:"Assistir grava√ß√£o"},qi=["onClick"],Hi={key:1,class:"analytics-dates"},Gi={class:"analytics-date"},Wi={key:0,class:"analytics-date"},Ki={key:2,class:"detail-section"},Zi={class:"detail-section detail-section--meta"},Ji={class:"detail-grid detail-grid--small"},Qi={class:"detail-item"},Yi={class:"detail-value detail-value--mono"},Xi={class:"detail-item"},en={class:"detail-value"},tn={class:"detail-item"},an={class:"detail-value"},on={class:"detail-item"},sn={class:"detail-value"},ln={class:"modal__footer modal__footer--proposals"},nn={class:"modal__footer-right"},rn=["disabled"],dn={key:0},cn={key:1},un=["disabled"],vn={key:0},pn={key:1},mn=["disabled"],fn={key:0},gn={key:1},hn={key:0,class:"html-link-box"},yn=["href"],bn={class:"modal"},_n={class:"modal__body"},wn={class:"form-group"},kn={class:"form-row"},xn={class:"form-group"},Cn={class:"form-group"},En=["value"],An={class:"form-group"},Mn={class:"form-group"},Nn={class:"modal__footer"},Pn=["disabled"],Fn={class:"modal modal--large"},Tn={class:"modal__header"},On={class:"modal__body modal__body--scroll"},Sn={class:"specialist-modal"},Dn={class:"specialist-modal__header"},Ln={class:"specialist-modal__list"},$n={class:"specialist-option__count"},Bn=["onClick"],In={class:"specialist-option__avatar"},Vn={class:"specialist-option__name"},jn={class:"specialist-option__count"},Rn={class:"modal"},Un={class:"modal__body"},zn={class:"form-group"},qn=["value"],Hn={class:"form-group"},Gn={class:"form-group"},Wn={class:"form-group"},Kn={class:"modal__footer"},Zn=["disabled"],Jn={class:"modal"},Qn={class:"modal__body"},Yn={class:"form-row"},Xn={class:"form-group"},er={class:"form-group"},tr={class:"form-row"},ar={class:"form-group"},or={key:0,class:"form-group"},sr=["value"],lr={class:"form-group"},ir={class:"form-group"},nr={class:"modal__footer"},rr=["disabled"],dr={class:"modal modal--replay"},cr={class:"modal__header"},ur={key:0,class:"replay-info"},vr={class:"replay-device"},pr={class:"replay-duration"},mr={class:"modal__body modal__body--replay"},fr={key:0,class:"replay-loading"},gr={key:2,class:"replay-empty"},hr={class:"modal__footer modal__footer--replay"},yr={class:"replay-footer-controls"},br=["title"],_r=["value"],wr={class:"replay-footer-time"},kr={class:"replay-footer-speeds"},xr=["onClick"],Cr={class:"modal modal--page-times"},Er={class:"modal__header"},Ar={class:"modal__body"},Mr={key:0,class:"page-times-info"},Nr={class:"page-times-info__device"},Pr={class:"page-times-info__date"},Fr={class:"page-times-info__total"},Tr={key:1,class:"page-times-chart"},Or={class:"page-time-bar__label"},Sr={class:"page-time-bar__track"},Dr={class:"page-time-bar__value"},Lr={key:2,class:"page-times-pages"},$r={class:"page-times-pages__list"},Br={class:"modal__footer"},Ir={key:4,class:"proposal-notifications"},Vr={key:0,class:"proposal-notifications__live"},jr={class:"proposal-notifications__header"},Rr={class:"proposal-notifications__count"},Ur={class:"proposal-notifications__list"},zr=["onClick"],qr={class:"proposal-notification__avatar"},Hr={class:"proposal-notification__content"},Gr={class:"proposal-notification__name"},Wr={class:"proposal-notification__meta"},Kr={class:"proposal-notification__time-live"},Zr={class:"proposal-notification__device"},Jr={class:"proposal-notification__scroll"},Qr={key:1,class:"proposal-notifications__history"},Yr={class:"proposal-notifications__list proposal-notifications__list--compact"},Xr=["onClick"],ed={class:"proposal-notification__type"},td={class:"proposal-notification__content"},ad={class:"proposal-notification__name"},od={class:"proposal-notification__meta"},sd=["onClick"],ld={key:5,class:"loading-overlay"},id=1800,nd=jt({__name:"Comercial",setup(gt){const ge=uo(),m=vo(),Z=u(!0),k=u([]),W=u(!1),z=u(!1),te=u(!1),r=u(null),ke=u(null),de=u(null),qe=u(null),He=u(null),B=u(""),K=u(""),ce=u(""),he=u("recent"),J=u(!1),Q=u(-1),ue=u(!1),T=u(""),g=u(null),c=u(""),y=u(!1),x=u(["Renata Garcia Penna","Jo√£o Farah","Isabela de Moraes","Gabriel Accardo","amanda vantini","Rodrigo","Maria Clara"]),b={gabriel:"Gabriel Accardo",isabela:"Isabela de Moraes",amanda:"amanda vantini",joao:"Jo√£o Farah",renata:"Renata Garcia Penna",rodrigo:"Rodrigo",maria:"Maria Clara",mariaclara:"Maria Clara"},xe={179:"S√£o Paulo (Capital)",180:"Rio de Janeiro (Capital)",181:"Curitiba",182:"Interior ou Litoral Paulista",183:"Interior ou Litoral Carioca",184:"Santa Catarina",185:"Litoral Paranaense",186:"Outro"},$=o=>o?/^\d+$/.test(o)&&xe[o]||o:"",zt=()=>{const o=ge.user?.email?.toLowerCase()||"";if(!o)return;const e=o.split("@")[0]||"";for(const[a,d]of Object.entries(b))if(e.includes(a)){T.value=d,console.log(`[Comercial] Pr√©-selecionado vendedor: ${d} (email: ${o})`);return}},C=u(null),ht=u(!1),yt=u(!1),Fe=u(!1),Te=u(!1),ye=u(null),S=u(null),Ge=u(!1),Oe=u([]),bt=u(!1),We=u(!1),ae=u(null),Ce=u([]),Ke=u(!1),Ee=u(!1),I=u(null),oe=u(!1),Ze=u(0),Je=u("00:00"),_t=u("00:00"),Qe=u(1),Ae=u(!1);let q=null,Ye=null,Me=0;const se=u([]),Xe=u(!1),et=u(!1),N=u({nome:"",tipo:"PROJETO_ARQUITETONICO",descricao:"",fileData:"",mimeType:"",fileSize:0}),wt=[{value:"PROPOSTA",label:"Proposta"},{value:"PROJETO_ARQUITETONICO",label:"Projeto Arquitet√¥nico"},{value:"PLANTA",label:"Planta"},{value:"DOCUMENTO",label:"Documento"},{value:"IMAGEM",label:"Imagem"},{value:"OUTRO",label:"Outro"}],le=u([]),tt=u(!1),at=u(!1),A=u({dataEnvio:new Date().toISOString().split("T")[0],valor:0,descricao:"",metragem:0,observacoes:"",propostaId:""}),Se=u(new Map),G=u([]),De=u(null),Le=u(null),$e=u(null),V=u({clientName:"",value:0,status:"Form Or√ßamento",phone:"",endereco:""}),ot={indigo:"#6366f1",blue:"#3b82f6",sky:"#0ea5e9",cyan:"#06b6d4",teal:"#14b8a6",emerald:"#10b981",green:"#22c55e",lime:"#84cc16",yellow:"#eab308",amber:"#f59e0b",orange:"#f97316","orange-light":"#fb923c",peach:"#fdba74",sand:"#fcd34d",gold:"#c9a962",success:"#22c55e",danger:"#ef4444"},Be=[{id:"Form Or√ßamento",name:"Form Or√ßamento",emoji:"üìã",color:"indigo",groupName:"Entrada",probability:5,sortOrder:0},{id:"1¬∫ Contato",name:"1¬∫ Contato",emoji:"üìû",color:"blue",groupName:"Contato",probability:10,sortOrder:1},{id:"1¬∫ Contato Feito",name:"1¬∫ Contato Feito",emoji:"‚úÖ",color:"blue",groupName:"Contato",probability:15,sortOrder:2},{id:"Follow 1¬∫ Contato",name:"Follow 1¬∫ Contato",emoji:"üîÑ",color:"sky",groupName:"Contato",probability:18,sortOrder:3},{id:"Follow 1¬∫ Contato Feito",name:"Follow 1¬∫ Contato Feito",emoji:"‚úÖ",color:"sky",groupName:"Contato",probability:20,sortOrder:4},{id:"Form Arquiteto",name:"Form Arquiteto",emoji:"üìù",color:"cyan",groupName:"Arquiteto",probability:22,sortOrder:5},{id:"Contato Arquiteto",name:"Contato Arquiteto",emoji:"üë∑",color:"cyan",groupName:"Arquiteto",probability:25,sortOrder:6},{id:"Proposta Escopo Minimo",name:"Proposta Escopo M√≠nimo",emoji:"üìê",color:"teal",groupName:"Levantamento",probability:28,sortOrder:7},{id:"C√°lculo de Projeto",name:"C√°lculo de Projeto",emoji:"üî¢",color:"teal",groupName:"Levantamento",probability:30,sortOrder:8},{id:"Projeto levantado",name:"Projeto Levantado",emoji:"üìä",color:"emerald",groupName:"Levantamento",probability:35,sortOrder:9},{id:"C√°lculo Deslocamento",name:"C√°lculo Deslocamento",emoji:"üöó",color:"emerald",groupName:"Levantamento",probability:38,sortOrder:10},{id:"Deslocamento Levantado",name:"Deslocamento Levantado",emoji:"‚úÖ",color:"green",groupName:"Levantamento",probability:40,sortOrder:11},{id:"Proposta enviada",name:"Proposta Enviada",emoji:"üì§",color:"yellow",groupName:"Proposta",probability:45,sortOrder:12},{id:"Fazer Follow 1",name:"Fazer Follow 1",emoji:"1Ô∏è‚É£",color:"amber",groupName:"Follow-up",probability:50,sortOrder:13},{id:"Follow 1 Feito",name:"Follow 1 Feito",emoji:"‚úÖ",color:"amber",groupName:"Follow-up",probability:55,sortOrder:14},{id:"Fazer Follow 2",name:"Fazer Follow 2",emoji:"2Ô∏è‚É£",color:"orange",groupName:"Follow-up",probability:60,sortOrder:15},{id:"Follow 2 Feito",name:"Follow 2 Feito",emoji:"‚úÖ",color:"orange",groupName:"Follow-up",probability:65,sortOrder:16},{id:"Fazer Follow 3",name:"Fazer Follow 3",emoji:"3Ô∏è‚É£",color:"peach",groupName:"Follow-up",probability:70,sortOrder:17},{id:"Follow 3 Feito",name:"Follow 3 Feito",emoji:"‚úÖ",color:"peach",groupName:"Follow-up",probability:75,sortOrder:18},{id:"Negocia√ß√µes",name:"Negocia√ß√µes",emoji:"ü§ù",color:"gold",groupName:"Negocia√ß√£o",probability:80,sortOrder:19},{id:"Ganho",name:"Ganho",emoji:"üèÜ",color:"success",groupName:"Fechamento",probability:100,sortOrder:20},{id:"Perdido",name:"Perdido",emoji:"‚ùå",color:"danger",groupName:"Fechamento",probability:0,sortOrder:21}],D=u([...Be]),qt=H(()=>k.value.length),kt=H(()=>k.value.reduce((o,e)=>o+(e.value||0),0)),Ht=H(()=>{const o=ve("Ganho").length,e=ve("Perdido").length,a=o+e;return a>0?Math.round(o/a*100):0}),Gt=H(()=>{const o=k.value.filter(a=>(a.daysInStage??0)>0);if(o.length===0)return 0;const e=o.reduce((a,d)=>a+(d.daysInStage||0),0);return Math.round(e/o.length)}),Wt=H(()=>{const o=k.value.filter(e=>(e.value??0)>0);return o.length===0?0:Math.round(kt.value/o.length)}),xt=H(()=>{const o=new Set;return k.value.forEach(e=>{e.consultor&&o.add(e.consultor)}),Array.from(o).sort()}),Kt=H(()=>T.value?(T.value.split(" ")[0]??"").toUpperCase():""),Zt=H(()=>{let o=[...k.value];if(B.value){const e=B.value.toLowerCase();o=o.filter(a=>a.clientName?.toLowerCase().includes(e)||a.endereco?.toLowerCase().includes(e)||a.personEmail?.toLowerCase().includes(e)||a.phone?.includes(e))}if(ce.value){const e=parseInt(ce.value),a=new Date;a.setDate(a.getDate()-e),o=o.filter(d=>d.dealAddTime?new Date(d.dealAddTime)>=a:!0)}switch(K.value&&(o=o.filter(e=>e.consultor===K.value)),T.value&&(o=o.filter(e=>e.consultor===T.value)),he.value){case"recent":o.sort((e,a)=>{const d=new Date(e.dealAddTime||0).getTime();return new Date(a.dealAddTime||0).getTime()-d});break;case"oldest":o.sort((e,a)=>{const d=new Date(e.dealAddTime||0).getTime(),i=new Date(a.dealAddTime||0).getTime();return d-i});break;case"value-high":o.sort((e,a)=>(a.value||0)-(e.value||0));break;case"value-low":o.sort((e,a)=>(e.value||0)-(a.value||0));break;case"name-az":o.sort((e,a)=>(e.clientName||"").localeCompare(a.clientName||""));break;case"name-za":o.sort((e,a)=>(a.clientName||"").localeCompare(e.clientName||""));break;case"days-high":o.sort((e,a)=>(a.daysInStage||0)-(e.daysInStage||0));break;case"days-low":o.sort((e,a)=>(e.daysInStage||0)-(a.daysInStage||0));break}return o}),Jt=H(()=>D.value.map((o,e)=>({id:o.id,name:o.name,color:ot[o.color]||o.color,groupName:o.groupName,probability:o.probability??50,sortOrder:o.sortOrder??e,isDefault:Be.some(a=>a.id===o.id)}))),Ie=H(()=>{const o=Array.from(Se.value.values());if(!T.value)return o;const e=T.value.toLowerCase();return o.filter(a=>a.ownerUserName?.toLowerCase()===e)}),st=H(()=>{if(!T.value)return G.value;const o=T.value.toLowerCase();return G.value.filter(e=>e.ownerUserName?.toLowerCase()===o)}),Ne=H(()=>{if(!B.value||B.value.length<2)return[];const o=B.value.toLowerCase();return k.value.filter(e=>e.clientName?.toLowerCase().includes(o)||e.personEmail?.toLowerCase().includes(o)||e.phone?.includes(o)||e.cidadeExecucao?.toLowerCase().includes(o)).slice(0,8)}),Ct={"Form Or√ßamento":'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/><path d="M12 11h4"/><path d="M12 16h4"/><path d="M8 11h.01"/><path d="M8 16h.01"/></svg>',FORM_ORCAMENTO:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/><path d="M12 11h4"/><path d="M12 16h4"/><path d="M8 11h.01"/><path d="M8 16h.01"/></svg>',"1¬∫ Contato":'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>',PRIMEIRO_CONTATO:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>',CONTATO_ARQUITETO:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M2 18v3h20v-3"/><path d="M6 14v4"/><path d="M18 14v4"/><path d="M12 14v4"/><path d="M4 10h16"/><path d="M4 10 12 3l8 7"/></svg>',AGUARDANDO_ARQ:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 22h14"/><path d="M5 2h14"/><path d="M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"/><path d="M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"/></svg>',LEVANTAMENTO:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"/><path d="M8 17V9"/><path d="M12 17V5"/><path d="M16 17v-4"/><path d="M20 17v-8"/></svg>',VISITA_AGENDADA:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/><path d="M9 16l2 2 4-4"/></svg>',VISITA_REALIZADA:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>',PROPOSTA_EM_ELABORACAO:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>',PROPOSTA_ENVIADA:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>',FOLLOW_1:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>',FOLLOW_2:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>',FOLLOW_3:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>',FOLLOW_4:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>',FOLLOW_5:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>',NEGOCIACAO:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>',Ganho:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>',Perdido:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>'},Et=o=>Ct[o]||Ct["Form Or√ßamento"],Qt=o=>D.value.find(a=>a.id===o)?.name||o,Yt=o=>D.value.find(a=>a.id===o)?.color||"gray",Xt=()=>{setTimeout(()=>{J.value=!1,Q.value=-1},200)},ea=()=>{const o=Ne.value[Q.value];Q.value>=0&&o&&Mt(o)},At=o=>{if(!J.value||Ne.value.length===0)return;const e=Q.value+o;e>=-1&&e<Ne.value.length&&(Q.value=e)},Mt=o=>{J.value=!1,Q.value=-1,rt(o)},ta=()=>{B.value="",J.value=!1,Q.value=-1},ve=o=>Zt.value.filter(e=>e.status===o),aa=o=>ve(o).reduce((e,a)=>e+(a.value||0),0),be=o=>o>=1e6?`R$ ${(o/1e6).toFixed(1)}M`:o>=1e3?`R$ ${(o/1e3).toFixed(0)}K`:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(o),oa=o=>o?o.split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase():"??",sa={"gabriel accardo":"#e63946","isabela de moraes":"#2563eb","amanda vantini":"#16a34a","jo√£o farah":"#f59e0b","joao farah":"#f59e0b","renata garcia penna":"#7c3aed",rodrigo:"#06b6d4","maria clara":"#ec4899"},Nt=["#e63946","#2563eb","#16a34a","#f59e0b","#7c3aed","#06b6d4","#ec4899","#84cc16","#f97316","#0d9488"],lt=new Map,la=o=>{if(!o||o==="N/A")return"#6b7280";const e=o.toLowerCase().trim(),a=lt.get(e);if(a)return a;const d=sa[e];if(d)return lt.set(e,d),d;let i=0;for(let E=0;E<e.length;E++)i=(i<<5)-i+e.charCodeAt(E),i=i&i;const v=Math.abs(i)%Nt.length,h=Nt[v]??"#6b7280";return lt.set(e,h),h},ia=o=>{if(!o||o==="N/A")return"";const e=o.split(" ")[0]||"";return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},Pt=o=>o?o>14?"deal-card__days--danger":o>7?"deal-card__days--warning":"":"",na=o=>{const e=D.value.find(a=>a.id===o);return e&&(ot[e.color]||e.color)||"#6366f1"},Ve=o=>o?D.value.filter(a=>a.id!=="Ganho"&&a.id!=="Perdido").findIndex(a=>a.id===o):-1,ra=o=>r.value?.status===o&&r.value?.daysInStage||0,it=async o=>{if(!r.value||r.value.status===o)return;const e=r.value,a=e.status,d=e.id;e.status=o,e.daysInStage=0;const i=k.value.findIndex(v=>v.id===d);if(i>=0){const v=k.value[i];v&&(v.status=o,v.daysInStage=0)}try{if(!(await fetch(`/api/admin/comercial/${d}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:o})})).ok)throw new Error("Falha ao atualizar est√°gio");m.success(`Movido para ${D.value.find(h=>h.id===o)?.name||o}`)}catch(v){if(e.status=a,i>=0){const h=k.value[i];h&&(h.status=a)}m.error("Erro ao atualizar est√°gio"),console.error("Error updating stage:",v)}},nt=o=>{if(!o)return"N/A";const e=new Date(o);return isNaN(e.getTime())?"N/A":e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},je=o=>{if(!o)return"N/A";const e=new Date(o);if(isNaN(e.getTime()))return"N/A";const d=new Date().getTime()-e.getTime(),i=Math.floor(d/6e4),v=Math.floor(d/36e5),h=Math.floor(d/864e5);return i<60?i<=1?"agora":`h√° ${i}min`:v<24?`h√° ${v}h`:h<7?`h√° ${h}d`:e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})},da=(o,e)=>{ke.value=e,o.dataTransfer.effectAllowed="move",o.dataTransfer.setData("text/plain",e.id),setTimeout(()=>{o.target.classList.add("deal-card--dragging")},0)},ca=()=>{ke.value=null,de.value=null},ua=(o,e)=>{o.preventDefault(),de.value=e},va=()=>{de.value=null},pa=async(o,e)=>{o.preventDefault(),de.value=null;const a=o.dataTransfer?.getData("text/plain");if(!a)return;const d=k.value.find(v=>v.id===a);if(!d||d.status===e)return;const i=d.status;d.status=e,d.daysInStage=0;try{if(!(await fetch(`/api/admin/comercial/${a}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e})})).ok)throw new Error("Falha ao mover deal");const h=D.value.find(E=>E.id===e)?.name;m.success(`Deal movido para ${h}`)}catch{d.status=i,m.error("Erro ao mover deal")}},ma=()=>{W.value=!W.value},fa=()=>{B.value="",K.value="",ce.value="",he.value="recent"},Ft=o=>{T.value=o,ue.value=!1},ga=o=>k.value.filter(e=>e.consultor===o).length,Tt=o=>{V.value={clientName:"",value:0,status:o||"Form Or√ßamento",phone:"",endereco:""},z.value=!0},Re=()=>{z.value=!1},ha=async()=>{if(V.value.clientName)try{const o=await fetch("/api/admin/comercial",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V.value)});if(!o.ok)throw new Error("Falha ao criar deal");const e=await o.json();k.value.unshift(e),Re(),m.success("Deal criado com sucesso!")}catch{m.error("Erro ao criar deal")}},rt=async o=>{r.value=o,C.value=null,S.value=null,se.value=[],le.value=[],await Promise.all([ct(o.id),Na(o.id),$a(o.id)]);const e=C.value;e?.id&&(ya(e.id),ba(e.id))},dt=()=>{r.value=null,C.value=null,S.value=null,Oe.value=[],se.value=[],le.value=[]},ct=async o=>{ht.value=!0;try{const e=await U.getUltimaProposta(o);e.data?.proposta&&(C.value=e.data.proposta)}catch(e){e.response?.status!==404&&console.error("Erro ao buscar proposta:",e)}finally{ht.value=!1}},ya=async o=>{Ge.value=!0;try{const e=await U.getPropostaAnalytics(o);e.data?.stats&&(S.value=e.data)}catch(e){e.response?.status!==404&&console.error("Erro ao buscar analytics:",e)}finally{Ge.value=!1}},ba=async o=>{bt.value=!0;try{const e=await U.getRecordings(o);e.data?.recordings&&(Oe.value=e.data.recordings)}catch(e){e.response?.status!==404&&console.error("Erro ao buscar recordings:",e),Oe.value=[]}finally{bt.value=!1}},_a=async o=>{ae.value=o,Ke.value=!0,We.value=!0;try{const e=await U.getRecording(o.id);e.data?.events&&(Ce.value=e.data.events)}catch(e){console.error("Erro ao carregar eventos do recording:",e),m.error("Erro ao carregar grava√ß√£o"),Ce.value=[]}finally{Ke.value=!1}},ut=()=>{We.value=!1,ae.value=null,Ce.value=[]},wa=o=>{I.value=o,Ee.value=!0},ka=o=>{if(!I.value?.pageTimes)return 0;const e=Object.values(I.value.pageTimes),a=Math.max(...e,1);return Math.min(100,o/a*100)},vt=o=>{if(o)return Oe.value.find(e=>e.sessionId===o)},xa=o=>{const e=vt(o);e&&_a(e)},Ot=o=>{const e=Math.floor(Math.max(0,o)/60).toString().padStart(2,"0"),a=Math.floor(Math.max(0,o)%60).toString().padStart(2,"0");return`${e}:${a}`},pt=()=>{if(!q)return;const o=Math.max(0,q.getCurrentTime()),e=o/1e3;Je.value=Ot(e),Me>0&&(Ze.value=o/Me*100),oe.value&&(Ye=requestAnimationFrame(pt))},Ca=()=>{q&&(oe.value?(q.pause(),Ye&&cancelAnimationFrame(Ye),oe.value=!1):(q.play(),oe.value=!0,pt()))},Ea=o=>{if(!q)return;const a=parseInt(o.target.value)/100*Me;q.pause(),q.play(a),oe.value=!0,pt()},Aa=o=>{q&&(Qe.value=o,q.setConfig({speed:o}))},Ma=()=>{q&&(Ae.value=!Ae.value,q.setConfig({skipInactive:Ae.value}))};Rt(Ce,async o=>{if(o.length>0){if(await ho(),oe.value=!1,Ze.value=0,Je.value="00:00",Qe.value=1,Ae.value=!1,!o.some(i=>i.type===2)){console.warn("[Replay] Grava√ß√£o sem FullSnapshot - n√£o √© poss√≠vel reproduzir"),m.error("Esta grava√ß√£o est√° incompleta (sem snapshot inicial)");return}const a=document.getElementById("rrweb-player");a&&(a.innerHTML="");const d=document.createElement("script");d.src="https://cdn.jsdelivr.net/npm/rrweb@1.1.3/dist/rrweb.min.js",d.onload=()=>{if(!document.getElementById("rrweb-css")){const i=document.createElement("link");i.id="rrweb-css",i.rel="stylesheet",i.href="https://cdn.jsdelivr.net/npm/rrweb@1.1.3/dist/rrweb.min.css",document.head.appendChild(i)}setTimeout(()=>{const i=window.rrweb;if(a&&i?.Replayer)try{const v=o.find(L=>L.type===4);console.log("[Replay] Meta event:",v),v?.data&&console.log("[Replay] Recorded viewport:",v.data.width,"x",v.data.height),q=new i.Replayer(o,{root:a,skipInactive:!1,showWarning:!1,showDebug:!1,blockClass:"rr-block",speed:1}),setTimeout(()=>{const L=a.querySelector(".replayer-wrapper"),ie=a.querySelector("iframe");console.log("[Replay] Wrapper element:",L),console.log("[Replay] Wrapper dimensions:",L?.offsetWidth,"x",L?.offsetHeight),console.log("[Replay] Iframe element:",ie),console.log("[Replay] Iframe dimensions:",ie?.offsetWidth,"x",ie?.offsetHeight),ie&&(console.log("[Replay] Iframe style.width:",ie.style.width),console.log("[Replay] Iframe style.height:",ie.style.height))},500);const h=o[0],E=o[o.length-1];Me=Math.max(0,E.timestamp-h.timestamp),_t.value=Ot(Me/1e3)}catch(v){console.error("[Replay] Error initializing player:",v),m.error("Erro ao inicializar o player")}},200)},d.onerror=()=>{m.error("Erro ao carregar biblioteca de replay")},document.head.appendChild(d)}});const Na=async o=>{Xe.value=!0;try{const e=await U.getAnexos(o);e.data.success&&(se.value=e.data.anexos)}catch(e){console.error("Erro ao buscar anexos:",e)}finally{Xe.value=!1}},Pa=()=>{N.value={nome:"",tipo:"PROJETO_ARQUITETONICO",descricao:"",fileData:"",mimeType:"",fileSize:0},et.value=!0},Ue=()=>{et.value=!1},Fa=o=>{const a=o.target.files?.[0];if(!a)return;if(a.size>10*1024*1024){m.error("Arquivo muito grande. M√°ximo 10MB");return}const d=new FileReader;d.onload=i=>{const h=i.target?.result?.split(",")[1]||"";N.value.fileData=h,N.value.mimeType=a.type,N.value.fileSize=a.size,N.value.nome=N.value.nome||a.name},d.readAsDataURL(a)},Ta=async()=>{if(!r.value||!N.value.nome){m.warning("Nome √© obrigat√≥rio");return}try{const o=await U.createAnexo(r.value.id,{nome:N.value.nome,tipo:N.value.tipo,descricao:N.value.descricao||void 0,fileData:N.value.fileData||void 0,mimeType:N.value.mimeType||void 0,fileSize:N.value.fileSize||void 0});o.data.success&&(m.success("Anexo adicionado!"),se.value.unshift(o.data.anexo),Ue())}catch(o){console.error("Erro ao criar anexo:",o),m.error("Erro ao adicionar anexo")}},Oa=async o=>{if(r.value)try{const e=await U.downloadAnexo(r.value.id,o.id);if(e.data.success&&e.data.anexo.fileData){const a=atob(e.data.anexo.fileData),d=new Array(a.length);for(let L=0;L<a.length;L++)d[L]=a.charCodeAt(L);const i=new Uint8Array(d),v=new Blob([i],{type:o.mimeType||"application/octet-stream"}),h=window.URL.createObjectURL(v),E=document.createElement("a");E.href=h,E.download=o.nome,E.click(),window.URL.revokeObjectURL(h)}else m.warning("Anexo sem arquivo para download")}catch(e){console.error("Erro ao baixar anexo:",e),m.error("Erro ao baixar anexo")}},Sa=async o=>{if(r.value&&confirm(`Excluir anexo "${o.nome}"?`))try{(await U.deleteAnexo(r.value.id,o.id)).data.success&&(m.success("Anexo exclu√≠do!"),se.value=se.value.filter(a=>a.id!==o.id))}catch(e){console.error("Erro ao excluir anexo:",e),m.error("Erro ao excluir anexo")}},Da=o=>o?o<1024?`${o} B`:o<1024*1024?`${(o/1024).toFixed(1)} KB`:`${(o/(1024*1024)).toFixed(1)} MB`:"",La=o=>wt.find(e=>e.value===o)?.label||o,$a=async o=>{tt.value=!0;try{const e=await U.getOrcamentosEnviados(o);e.data.success&&(le.value=e.data.orcamentos)}catch(e){console.error("Erro ao buscar or√ßamentos:",e)}finally{tt.value=!1}},Ba=()=>{A.value={dataEnvio:new Date().toISOString().split("T")[0],valor:C.value?.valorTotal?Number(C.value.valorTotal):0,descricao:"",metragem:r.value?.metragemEstimada||r.value?.m2Total||0,observacoes:"",propostaId:C.value?.id||""},at.value=!0},ze=()=>{at.value=!1},Ia=async()=>{if(!r.value||!A.value.dataEnvio){m.warning("Data de envio √© obrigat√≥ria");return}try{const o=await U.createOrcamentoEnviado(r.value.id,{dataEnvio:A.value.dataEnvio,valor:A.value.valor||void 0,descricao:A.value.descricao||void 0,metragem:A.value.metragem||void 0,observacoes:A.value.observacoes||void 0,propostaId:A.value.propostaId||void 0});o.data.success&&(m.success("Or√ßamento registrado!"),le.value.unshift(o.data.orcamento),ze())}catch(o){console.error("Erro ao criar or√ßamento:",o),m.error("Erro ao registrar or√ßamento")}},Va=async o=>{if(r.value&&confirm("Excluir registro de or√ßamento enviado?"))try{(await U.deleteOrcamentoEnviado(r.value.id,o.id)).data.success&&(m.success("Registro exclu√≠do!"),le.value=le.value.filter(a=>a.id!==o.id))}catch(e){console.error("Erro ao excluir or√ßamento:",e),m.error("Erro ao excluir registro")}},ja=o=>new Date(o).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),Ra=async()=>{if(!r.value)return;const o=r.value,e=new URLSearchParams;o.clientName&&e.set("cliente",o.clientName),o.phone&&e.set("telefone",o.phone),o.personEmail&&e.set("email",o.personEmail),o.endereco&&e.set("endereco",o.endereco),o.cidadeExecucao&&e.set("cidade",o.cidadeExecucao);const a=o.metragemEstimada||o.m2Total||o.metragemEstimadaN1;a&&e.set("metragem",String(a)),o.tipoProjeto&&e.set("tipoProjeto",o.tipoProjeto),o.descritivoArea&&e.set("area",o.descritivoArea),o.estadoObra&&e.set("estadoObra",o.estadoObra),o.nomeEscritorio&&e.set("arquiteto",o.nomeEscritorio),o.resumo&&e.set("detalhes",o.resumo),!o.resumo&&o.descritivoArea&&e.set("detalhes",o.descritivoArea),e.set("dealId",o.id);const d=T.value||K.value||o.consultor;if(d&&e.set("consultor",d),o.dataPrevistaExec){const h=new Date(o.dataPrevistaExec);if(!isNaN(h.getTime())){const E=h.toISOString().split("T")[0];e.set("dataPrevistaExec",E)}}const v=window.location.hostname==="localhost"?`http://localhost:3000/propostas.html?${e.toString()}`:`/geradordepropostas/?${e.toString()}`;window.open(v,"_blank"),m.info("Gerador de propostas aberto em nova aba")},Ua=()=>{if(!C.value||!C.value.pdfBase64){m.warning("Proposta sem PDF. Gere uma nova proposta primeiro.");return}try{const o=atob(C.value.pdfBase64),e=new Array(o.length);for(let v=0;v<o.length;v++)e[v]=o.charCodeAt(v);const a=new Uint8Array(e),d=new Blob([a],{type:"application/pdf"}),i=window.URL.createObjectURL(d);window.open(i,"_blank"),setTimeout(()=>window.URL.revokeObjectURL(i),1e4),m.success("Proposta aberta em nova aba")}catch(o){console.error("Erro ao abrir proposta:",o),m.error("Erro ao abrir proposta")}},za=async()=>{if(!r.value||!C.value)return;const o=r.value,e=C.value;if(!o.phone){m.warning("Lead sem telefone cadastrado");return}if(!e.pdfBase64){m.warning("Proposta sem PDF gerado. Gere uma nova proposta primeiro.");return}Fe.value=!0;try{const a=o.phone.replace(/\D/g,""),d=o.primeiroNomeZapi||o.clientName?.split(" ")[0]||"Cliente",i=T.value?.split(" ")[0]||K.value?.split(" ")[0]||o.consultor?.split(" ")[0]||ge.user?.name?.split(" ")[0]||"especialista",v=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.valorTotal),h=`Ol√° ${d}! Aqui √© o ${i} da Monofloor. Conforme conversamos, segue a proposta no valor de ${v}. Qualquer d√∫vida estou √† disposi√ß√£o!`,E=atob(e.pdfBase64),L=new Array(E.length);for(let ee=0;ee<E.length;ee++)L[ee]=E.charCodeAt(ee);const ie=new Uint8Array(L),Lt=new Blob([ie],{type:"application/pdf"}),ro=new Date().toISOString().split("T")[0],$t=`Proposta-Monofloor-${o.clientName?.replace(/[^a-zA-Z0-9\s]/g,"").replace(/\s+/g,"-")||"Cliente"}-${ro}.pdf`,Bt=new File([Lt],$t,{type:"application/pdf"});if(navigator.share&&navigator.canShare&&navigator.canShare({files:[Bt]}))try{await navigator.share({title:`Proposta Monofloor - ${o.clientName}`,text:h,files:[Bt]}),m.success("‚úÖ Compartilhamento aberto! Selecione WhatsApp para enviar."),await U.enviarPropostaWhatsApp(o.id,e.id,{phoneNumber:a,message:h}),await ct(o.id);return}catch(ee){if(ee.name!=="AbortError")console.log("Web Share falhou, usando fallback:",ee);else return}const It=window.URL.createObjectURL(Lt),Pe=document.createElement("a");Pe.href=It,Pe.download=$t,document.body.appendChild(Pe),Pe.click(),document.body.removeChild(Pe),window.URL.revokeObjectURL(It),await new Promise(ee=>setTimeout(ee,500));const co=`https://wa.me/55${a}?text=${encodeURIComponent(h)}`;window.open(co,"_blank"),m.info("üì• PDF baixado! Arraste para a conversa do WhatsApp ou clique em üìé",{duration:6e3}),await U.enviarPropostaWhatsApp(o.id,e.id,{phoneNumber:a,message:h}),await ct(o.id)}catch(a){console.error("Erro ao enviar proposta:",a),m.error("Erro ao enviar proposta via WhatsApp")}finally{Fe.value=!1}},qa=async()=>{if(!r.value||!C.value){m.warning("Selecione um lead e gere uma proposta primeiro");return}Te.value=!0;try{const o=r.value,e=C.value,a=e.dadosCalculo||{},d={propostaId:e.id,clienteNome:o.personName||o.title||"Cliente",metragemTotalStelion:a.metragemTotalStelion||0,materiaisStelion:a.materiaisStelion||0,maoObraStelion:a.maoObraStelion||0,impostosStelion:a.impostosStelion||0,valorTotalStelion:a.valorTotalStelion||0,metragemTotalLilit:a.metragemTotalLilit||0,materiaisLilit:a.materiaisLilit||0,maoObraLilit:a.maoObraLilit||0,impostosLilit:a.impostosLilit||0,valorTotalLilit:a.valorTotalLilit||0,metragemTotal:a.metragemTotal||Number(e.metragem)||0,materiaisTotal:a.materiaisTotal||0,maoObraTotal:a.maoObraTotal||0,impostosTotal:a.impostosTotal||0,valorTotal:Number(e.valorTotal)||0,precoBaseStelion:a.precoBaseStelion||910,precoBaseLilit:a.precoBaseLilit||590,pisoStelion:a.pisoStelion||0,paredeStelion:a.paredeStelion||0,pisoLilit:a.pisoLilit||0,paredeLilit:a.paredeLilit||0},i=await fetch("http://localhost:3000/api/proposals/generate-html",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!i.ok){const h=await i.json();throw new Error(h.message||"Erro ao gerar HTML")}const v=await i.json();ye.value=v.url,m.success("Link HTML gerado com sucesso!")}catch(o){console.error("Erro ao gerar HTML:",o),m.error(o.message||"Erro ao gerar proposta HTML")}finally{Te.value=!1}},Ha=()=>{ye.value&&navigator.clipboard.writeText(ye.value).then(()=>{m.success("Link copiado para a √°rea de transfer√™ncia!")})},j=(o,e)=>{g.value=o,c.value=String(e||"")},_e=()=>{g.value=null,c.value=""},mt=async o=>{if(!r.value||y.value)return;const e=r.value.id,a=c.value.trim(),d=String(Ga(r.value,o)||"");if(a===d){_e();return}y.value=!0;try{const v={clientName:"personName",phone:"personPhone",personEmail:"personEmail",endereco:"endereco",cidadeExecucao:"cidadeExecucao",metragemEstimada:"metragemEstimada",estadoObra:"estadoObra",budgetEstimado:"budgetEstimado",dataPrevistaExec:"dataPrevistaExec",nomeEscritorio:"nomeEscritorio",detalhesArquiteto:"detalhesArquiteto",resumo:"resumo",descritivoArea:"descritivoArea",consultor:"consultorId",value:"dealValue"}[o]||o,h={};if(o==="value"||o==="metragemEstimada"?h[v]=parseFloat(a)||0:h[v]=a,await U.update(e,h),r.value){r.value[o]=o==="value"?parseFloat(a)||0:a;const E=k.value.findIndex(L=>L.id===e);E!==-1&&(k.value[E][o]=o==="value"?parseFloat(a)||0:a)}m.success("Campo atualizado")}catch(i){console.error("Error saving field:",i),m.error("Erro ao salvar campo")}finally{y.value=!1,_e()}},Ga=(o,e)=>o[e],R=o=>{mt(o)},Y=(o,e)=>{o.key==="Enter"?(o.preventDefault(),mt(e)):o.key==="Escape"&&_e()},ft=o=>{if(o.phone){const e=o.phone.replace(/\D/g,""),a=o.primeiroNomeZapi||o.clientName?.split(" ")[0]||"Cliente";let d="especialista";T.value?d=T.value.split(" ")[0]||"especialista":K.value?d=K.value.split(" ")[0]||"especialista":o.consultor&&o.consultor!=="N/A"?d=o.consultor.split(" ")[0]||"especialista":ge.user?.name&&(d=ge.user.name.split(" ")[0]||"especialista");const i=o.metragemEstimada||o.m2||"sua √°rea",h=["jo√£o","joao","gabriel"].includes(d.toLowerCase())?"o":"a",E=`Ol√° ${a}, tudo bem? Sou ${d}, especialista da Monofloor e serei ${h} respons√°vel por cuidar do seu projeto. Vi que fez uma solicita√ß√£o de ${i}m¬≤. Quer me falar um pouco mais sobre o projeto?`,L=encodeURIComponent(E);window.open(`https://wa.me/55${e}?text=${L}`,"_blank")}else m.warning("Deal sem telefone cadastrado")},Wa=o=>{o?window.open(o,"_blank"):m.warning("Link do Pipedrive n√£o dispon√≠vel")},Ka=(o,e)=>{console.log("Open menu for:",o)},St=Object.entries(ot).reduce((o,[e,a])=>({...o,[a]:e}),{}),Za=o=>{D.value=o.map(e=>{const d=(D.value.find(v=>v.id===e.id)||Be.find(v=>v.id===e.id))?.emoji||"üìå",i=St[e.color]||Qa(e.color);return{id:e.id,name:e.name,emoji:d,color:i,groupName:e.groupName,probability:e.probability,sortOrder:e.sortOrder}}),localStorage.setItem("monofloor_pipeline_stages",JSON.stringify(D.value)),te.value=!1,m.success("Pipeline atualizado com sucesso!")},Ja=()=>{D.value=[...Be],localStorage.removeItem("monofloor_pipeline_stages"),m.info("Pipeline restaurado para configura√ß√£o padr√£o")},Qa=o=>St[o.toLowerCase()]||o,Ya=()=>{const o=localStorage.getItem("monofloor_pipeline_stages");if(o)try{const e=JSON.parse(o);Array.isArray(e)&&e.length>0&&(D.value=e)}catch{}},Xa=async()=>{Z.value=!0;const o=Date.now();try{const e=await fetch("/api/admin/comercial");if(!e.ok)throw new Error("Falha ao carregar deals");const a=await e.json();console.log("API response:",a);let d=[];Array.isArray(a)?d=a:a.deals&&Array.isArray(a.deals)?d=a.deals:a.data&&Array.isArray(a.data)&&(d=a.data),k.value=d.map(i=>({...i,clientName:i.personName||i.project?.cliente||i.pipedriveRawData?.title||"Sem nome",value:parseFloat(i.dealValue)||parseFloat(i.pipedriveRawData?.value)||0,status:to(i.stageName||i.status),consultor:i.consultorId||i.ownerUserName||"N/A",phone:i.personPhone||"",endereco:i.project?.endereco||i.cidadeExecucaoDesc||"",m2Total:parseFloat(i.project?.m2Total)||parseFloat(i.metragemEstimada)||0,daysInStage:eo(i.stageChangeTime||i.dealAddTime),personEmail:i.personEmail||"",tipoCliente:i.tipoCliente||"",tipoProjeto:i.tipoProjeto||"",nomeEscritorio:i.nomeEscritorio||"",budgetEstimado:i.budgetEstimado||"",cidadeExecucao:i.cidadeExecucao||"",metragemEstimada:i.metragemEstimada||"",metragemEstimadaN1:i.metragemEstimadaN1||"",estadoObra:i.estadoObra||"",dataPrevistaExec:i.dataPrevistaExec||"",detalhesArquiteto:i.detalhesArquiteto||"",descritivoArea:i.descritivoArea||"",resumo:i.resumo||"",primeiroNomeZapi:i.primeiroNomeZapi||"",telefoneZapi:i.telefoneZapi||"",pipedriveUrl:i.pipedriveUrl||`https://monofloor.pipedrive.com/deal/${i.pipedriveDealId}`,pipedriveDealId:i.pipedriveDealId||"",dealAddTime:i.dealAddTime,dealUpdateTime:i.dealUpdateTime,pipedriveSyncedAt:i.pipedriveSyncedAt}))}catch(e){console.error("Error fetching deals:",e),m.error("Erro ao carregar deals")}finally{const e=Date.now()-o,a=id-e;a>0&&await new Promise(d=>setTimeout(d,a)),Z.value=!1}},eo=o=>{if(!o)return 0;const e=new Date(o),d=Math.abs(new Date().getTime()-e.getTime());return Math.ceil(d/(1e3*60*60*24))},to=o=>{if(!o)return"Form Or√ßamento";const e=o.toLowerCase().trim(),a={"form or√ßamento":"Form Or√ßamento","form orcamento":"Form Or√ßamento","1¬∫ contato":"1¬∫ Contato","1o contato":"1¬∫ Contato","primeiro contato":"1¬∫ Contato","1¬∫ contato feito":"1¬∫ Contato Feito","1o contato feito":"1¬∫ Contato Feito","follow 1¬∫ contato":"Follow 1¬∫ Contato","follow 1o contato":"Follow 1¬∫ Contato","follow 1¬∫ contato feito":"Follow 1¬∫ Contato Feito","follow 1o contato feito":"Follow 1¬∫ Contato Feito","form arquiteto":"Form Arquiteto","contato arquiteto":"Contato Arquiteto","proposta escopo minimo":"Proposta Escopo Minimo","proposta escopo m√≠nimo":"Proposta Escopo Minimo","c√°lculo de projeto":"C√°lculo de Projeto","calculo de projeto":"C√°lculo de Projeto","projeto levantado":"Projeto levantado","c√°lculo deslocamento":"C√°lculo Deslocamento","calculo deslocamento":"C√°lculo Deslocamento","deslocamento levantado":"Deslocamento Levantado","proposta enviada":"Proposta enviada","fazer follow 1":"Fazer Follow 1","follow 1 feito":"Follow 1 Feito","fazer follow 2":"Fazer Follow 2","follow 2 feito":"Follow 2 Feito","fazer follow 3":"Fazer Follow 3","follow 3 feito":"Follow 3 Feito",negocia√ß√µes:"Negocia√ß√µes",negociacoes:"Negocia√ß√µes",negocia√ß√£o:"Negocia√ß√µes",negociacao:"Negocia√ß√µes",ganho:"Ganho",won:"Ganho",perdido:"Perdido",lost:"Perdido",lead:"Form Or√ßamento",primeiro_contato:"1¬∫ Contato",contato_arquiteto:"Contato Arquiteto",levantamento:"C√°lculo de Projeto",proposta_enviada:"Proposta enviada",follow_up:"Fazer Follow 1"};if(a[e])return a[e];for(const[i,v]of Object.entries(a))if(e.includes(i)||i.includes(e))return v;return e.includes("ganho")||e.includes("won")?"Ganho":e.includes("perdido")||e.includes("lost")?"Perdido":e.includes("negoci")?"Negocia√ß√µes":e.includes("follow")&&e.includes("3")?"Fazer Follow 3":e.includes("follow")&&e.includes("2")?"Fazer Follow 2":e.includes("follow")&&e.includes("1")&&e.includes("feito")?"Follow 1 Feito":e.includes("follow")&&e.includes("1")||e.includes("follow")?"Fazer Follow 1":e.includes("proposta")&&e.includes("enviada")?"Proposta enviada":e.includes("proposta")&&e.includes("escopo")?"Proposta Escopo Minimo":e.includes("deslocamento")&&e.includes("levant")?"Deslocamento Levantado":e.includes("deslocamento")?"C√°lculo Deslocamento":e.includes("projeto")&&e.includes("levant")?"Projeto levantado":e.includes("c√°lculo")||e.includes("calculo")?"C√°lculo de Projeto":e.includes("arquiteto")&&e.includes("form")?"Form Arquiteto":e.includes("arquiteto")?"Contato Arquiteto":e.includes("contato")&&e.includes("feito")?"1¬∫ Contato Feito":e.includes("contato")?"1¬∫ Contato":e.includes("form")||e.includes("or√ßamento")||e.includes("orcamento")?"Form Or√ßamento":["Form Or√ßamento","1¬∫ Contato","1¬∫ Contato Feito","Follow 1¬∫ Contato","Follow 1¬∫ Contato Feito","Form Arquiteto","Contato Arquiteto","Proposta Escopo Minimo","C√°lculo de Projeto","Projeto levantado","C√°lculo Deslocamento","Deslocamento Levantado","Proposta enviada","Fazer Follow 1","Follow 1 Feito","Fazer Follow 2","Follow 2 Feito","Fazer Follow 3","Follow 3 Feito","Negocia√ß√µes","Ganho","Perdido"].includes(o)?o:"Form Or√ßamento"},pe=o=>{if(o<60)return`${o}s`;const e=Math.floor(o/60),a=o%60;return`${e}m ${a}s`},ao=o=>{console.log("[CRM] Proposta aberta:",o.clientName),Se.value.set(o.sessionId,{sessionId:o.sessionId,propostaId:o.propostaId,leadId:o.leadId,clientName:o.clientName,ownerUserName:o.ownerUserName,deviceType:o.deviceType,timeOnPage:0,scrollDepth:0,startedAt:new Date(o.timestamp),timestamp:new Date(o.timestamp)}),G.value.unshift({id:`opened-${o.sessionId}`,type:"opened",clientName:o.clientName,ownerUserName:o.ownerUserName,leadId:o.leadId,deviceType:o.deviceType,timestamp:new Date(o.timestamp)}),G.value.length>20&&(G.value=G.value.slice(0,20))},oo=o=>{const e=Se.value.get(o.sessionId);e&&(e.timeOnPage=o.timeOnPage,e.scrollDepth=o.scrollDepth,e.timestamp=new Date(o.timestamp))},so=o=>{console.log("[CRM] Proposta fechada:",o.clientName,`(${o.totalTimeOnPage}s)`),Se.value.delete(o.sessionId),G.value.unshift({id:`closed-${o.sessionId}`,type:"closed",clientName:o.clientName,ownerUserName:o.ownerUserName,leadId:o.leadId,timeOnPage:o.totalTimeOnPage,timestamp:new Date(o.timestamp)}),G.value.length>20&&(G.value=G.value.slice(0,20))},lo=o=>{G.value=G.value.filter(e=>e.id!==o)},Dt=o=>{const e=k.value.find(a=>a.id===o);e&&rt(e)},io=()=>{bo(),De.value=_o(ao),Le.value=wo(oo),$e.value=ko(so),console.log("[CRM] Listeners de proposta configurados")},no=()=>{De.value&&(De.value(),De.value=null),Le.value&&(Le.value(),Le.value=null),$e.value&&($e.value(),$e.value=null),console.log("[CRM] Listeners de proposta limpos")};return po(()=>{Ya(),zt(),Xa(),io()}),mo(()=>{no()}),(o,e)=>(s(),l("div",Uo,[Z.value?p("",!0):(s(),l("header",zo,[t("div",qo,[e[96]||(e[96]=X('<div class="crm-header__title-row" data-v-b82ff289><div class="pixel-train" data-v-b82ff289><svg class="train-svg" viewBox="0 0 64 40" fill="none" data-v-b82ff289><g transform="translate(64,0) scale(-1,1)" data-v-b82ff289><circle class="smoke smoke-1" cx="20" cy="8" r="3" fill="#666" data-v-b82ff289></circle><circle class="smoke smoke-2" cx="14" cy="5" r="2.5" fill="#888" data-v-b82ff289></circle><circle class="smoke smoke-3" cx="8" cy="3" r="2" fill="#aaa" data-v-b82ff289></circle><circle class="smoke smoke-4" cx="24" cy="4" r="2" fill="#777" data-v-b82ff289></circle><rect x="18" y="12" width="6" height="8" fill="#1a1a1a" data-v-b82ff289></rect><rect x="12" y="18" width="24" height="14" rx="2" fill="#1a1a1a" data-v-b82ff289></rect><rect x="36" y="14" width="14" height="18" fill="#1a1a1a" data-v-b82ff289></rect><rect x="38" y="16" width="4" height="4" fill="#FFE566" data-v-b82ff289></rect><rect x="44" y="16" width="4" height="4" fill="#FFE566" data-v-b82ff289></rect><circle cx="18" cy="34" r="5" fill="#1a1a1a" data-v-b82ff289></circle><circle cx="18" cy="34" r="2" fill="#c9a962" data-v-b82ff289></circle><circle cx="30" cy="34" r="5" fill="#1a1a1a" data-v-b82ff289></circle><circle cx="30" cy="34" r="2" fill="#c9a962" data-v-b82ff289></circle><circle cx="44" cy="34" r="4" fill="#1a1a1a" data-v-b82ff289></circle><circle cx="44" cy="34" r="1.5" fill="#c9a962" data-v-b82ff289></circle><rect x="8" y="22" width="4" height="6" rx="1" fill="#FFE566" data-v-b82ff289></rect><rect x="14" y="24" width="20" height="2" fill="#c9a962" data-v-b82ff289></rect><rect x="36" y="28" width="14" height="2" fill="#c9a962" data-v-b82ff289></rect></g></svg></div><div class="crm-header__title-text" data-v-b82ff289><span class="title-prefix" data-v-b82ff289>A M√ÅQUINA DE VENDAS DA</span><svg class="monofloor-logo-svg pixel-logo" viewBox="0 0 268 32" fill="#1a1a1a" data-v-b82ff289><rect x="0" y="8" width="4" height="24" data-v-b82ff289></rect><rect x="4" y="6" width="2" height="4" data-v-b82ff289></rect><rect x="6" y="4" width="2" height="4" data-v-b82ff289></rect><rect x="8" y="2" width="2" height="4" data-v-b82ff289></rect><rect x="10" y="0" width="6" height="4" data-v-b82ff289></rect><rect x="16" y="2" width="2" height="4" data-v-b82ff289></rect><rect x="18" y="4" width="2" height="4" data-v-b82ff289></rect><rect x="20" y="6" width="2" height="4" data-v-b82ff289></rect><rect x="22" y="8" width="4" height="24" data-v-b82ff289></rect><rect x="26" y="6" width="2" height="4" data-v-b82ff289></rect><rect x="28" y="4" width="2" height="4" data-v-b82ff289></rect><rect x="30" y="2" width="2" height="4" data-v-b82ff289></rect><rect x="32" y="0" width="6" height="4" data-v-b82ff289></rect><rect x="38" y="2" width="2" height="4" data-v-b82ff289></rect><rect x="40" y="4" width="2" height="4" data-v-b82ff289></rect><rect x="42" y="6" width="2" height="4" data-v-b82ff289></rect><rect x="44" y="8" width="4" height="24" data-v-b82ff289></rect><rect x="56" y="4" width="2" height="2" data-v-b82ff289></rect><rect x="58" y="2" width="2" height="2" data-v-b82ff289></rect><rect x="60" y="0" width="8" height="4" data-v-b82ff289></rect><rect x="68" y="2" width="2" height="2" data-v-b82ff289></rect><rect x="70" y="4" width="2" height="2" data-v-b82ff289></rect><rect x="54" y="6" width="4" height="20" data-v-b82ff289></rect><rect x="70" y="6" width="4" height="20" data-v-b82ff289></rect><rect x="56" y="26" width="2" height="2" data-v-b82ff289></rect><rect x="58" y="28" width="2" height="2" data-v-b82ff289></rect><rect x="60" y="28" width="8" height="4" data-v-b82ff289></rect><rect x="68" y="28" width="2" height="2" data-v-b82ff289></rect><rect x="70" y="26" width="2" height="2" data-v-b82ff289></rect><rect x="82" y="8" width="4" height="24" data-v-b82ff289></rect><rect x="86" y="6" width="2" height="4" data-v-b82ff289></rect><rect x="88" y="4" width="2" height="4" data-v-b82ff289></rect><rect x="90" y="2" width="2" height="4" data-v-b82ff289></rect><rect x="92" y="0" width="8" height="4" data-v-b82ff289></rect><rect x="100" y="2" width="2" height="4" data-v-b82ff289></rect><rect x="102" y="4" width="2" height="4" data-v-b82ff289></rect><rect x="104" y="6" width="2" height="4" data-v-b82ff289></rect><rect x="106" y="8" width="4" height="24" data-v-b82ff289></rect><rect x="118" y="4" width="2" height="2" data-v-b82ff289></rect><rect x="120" y="2" width="2" height="2" data-v-b82ff289></rect><rect x="122" y="0" width="8" height="4" data-v-b82ff289></rect><rect x="130" y="2" width="2" height="2" data-v-b82ff289></rect><rect x="132" y="4" width="2" height="2" data-v-b82ff289></rect><rect x="116" y="6" width="4" height="20" data-v-b82ff289></rect><rect x="132" y="6" width="4" height="20" data-v-b82ff289></rect><rect x="118" y="26" width="2" height="2" data-v-b82ff289></rect><rect x="120" y="28" width="2" height="2" data-v-b82ff289></rect><rect x="122" y="28" width="8" height="4" data-v-b82ff289></rect><rect x="130" y="28" width="2" height="2" data-v-b82ff289></rect><rect x="132" y="26" width="2" height="2" data-v-b82ff289></rect><rect x="146" y="4" width="2" height="2" data-v-b82ff289></rect><rect x="148" y="2" width="2" height="2" data-v-b82ff289></rect><rect x="150" y="0" width="10" height="4" data-v-b82ff289></rect><rect x="144" y="6" width="4" height="26" data-v-b82ff289></rect><rect x="144" y="14" width="12" height="4" data-v-b82ff289></rect><rect x="164" y="0" width="4" height="26" data-v-b82ff289></rect><rect x="168" y="24" width="2" height="4" data-v-b82ff289></rect><rect x="170" y="26" width="2" height="4" data-v-b82ff289></rect><rect x="172" y="28" width="8" height="4" data-v-b82ff289></rect><rect x="186" y="4" width="2" height="2" data-v-b82ff289></rect><rect x="188" y="2" width="2" height="2" data-v-b82ff289></rect><rect x="190" y="0" width="8" height="4" data-v-b82ff289></rect><rect x="198" y="2" width="2" height="2" data-v-b82ff289></rect><rect x="200" y="4" width="2" height="2" data-v-b82ff289></rect><rect x="184" y="6" width="4" height="20" data-v-b82ff289></rect><rect x="200" y="6" width="4" height="20" data-v-b82ff289></rect><rect x="186" y="26" width="2" height="2" data-v-b82ff289></rect><rect x="188" y="28" width="2" height="2" data-v-b82ff289></rect><rect x="190" y="28" width="8" height="4" data-v-b82ff289></rect><rect x="198" y="28" width="2" height="2" data-v-b82ff289></rect><rect x="200" y="26" width="2" height="2" data-v-b82ff289></rect><rect x="214" y="4" width="2" height="2" data-v-b82ff289></rect><rect x="216" y="2" width="2" height="2" data-v-b82ff289></rect><rect x="218" y="0" width="8" height="4" data-v-b82ff289></rect><rect x="226" y="2" width="2" height="2" data-v-b82ff289></rect><rect x="228" y="4" width="2" height="2" data-v-b82ff289></rect><rect x="212" y="6" width="4" height="20" data-v-b82ff289></rect><rect x="228" y="6" width="4" height="20" data-v-b82ff289></rect><rect x="214" y="26" width="2" height="2" data-v-b82ff289></rect><rect x="216" y="28" width="2" height="2" data-v-b82ff289></rect><rect x="218" y="28" width="8" height="4" data-v-b82ff289></rect><rect x="226" y="28" width="2" height="2" data-v-b82ff289></rect><rect x="228" y="26" width="2" height="2" data-v-b82ff289></rect><rect x="240" y="8" width="4" height="24" data-v-b82ff289></rect><rect x="244" y="6" width="2" height="4" data-v-b82ff289></rect><rect x="246" y="4" width="2" height="4" data-v-b82ff289></rect><rect x="248" y="2" width="2" height="4" data-v-b82ff289></rect><rect x="250" y="0" width="8" height="4" data-v-b82ff289></rect><rect x="258" y="2" width="2" height="4" data-v-b82ff289></rect><rect x="260" y="4" width="2" height="4" data-v-b82ff289></rect><rect x="264" y="0" width="1" height="1" data-v-b82ff289></rect><rect x="265" y="0" width="2" height="1" data-v-b82ff289></rect><rect x="267" y="0" width="1" height="1" data-v-b82ff289></rect><rect x="263" y="1" width="1" height="1" data-v-b82ff289></rect><rect x="268" y="1" width="1" height="1" data-v-b82ff289></rect><rect x="263" y="2" width="1" height="2" data-v-b82ff289></rect><rect x="268" y="2" width="1" height="2" data-v-b82ff289></rect><rect x="263" y="4" width="1" height="1" data-v-b82ff289></rect><rect x="268" y="4" width="1" height="1" data-v-b82ff289></rect><rect x="264" y="5" width="1" height="1" data-v-b82ff289></rect><rect x="265" y="5" width="2" height="1" data-v-b82ff289></rect><rect x="267" y="5" width="1" height="1" data-v-b82ff289></rect><rect x="265" y="1" width="1" height="3" data-v-b82ff289></rect><rect x="266" y="1" width="1" height="1" data-v-b82ff289></rect><rect x="266" y="2" width="1" height="1" data-v-b82ff289></rect><rect x="267" y="3" width="1" height="2" data-v-b82ff289></rect></svg></div></div>',1)),t("div",{class:"specialist-selector",onClick:e[0]||(e[0]=a=>ue.value=!0)},[e[92]||(e[92]=t("span",{class:"specialist-label"},"ESPECIALISTA",-1)),t("span",Ho,n(Kt.value||"TODOS"),1),e[93]||(e[93]=t("svg",{class:"specialist-chevron",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"6 9 12 15 18 9"})],-1))]),t("div",Go,[t("button",{class:"btn btn--outline",onClick:ma},[...e[94]||(e[94]=[t("svg",{class:"btn__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})],-1),w(" Filtros ",-1)])]),t("button",{class:"btn btn--primary",onClick:e[1]||(e[1]=a=>Tt())},[...e[95]||(e[95]=[t("svg",{class:"btn__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1),w(" Novo Deal ",-1)])])])]),t("div",Wo,[t("div",Ko,[e[98]||(e[98]=X('<div class="kpi-card__icon" data-v-b82ff289><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-b82ff289><circle cx="12" cy="12" r="10" data-v-b82ff289></circle><circle cx="12" cy="12" r="6" data-v-b82ff289></circle><circle cx="12" cy="12" r="2" fill="currentColor" data-v-b82ff289></circle></svg></div>',1)),t("div",Zo,[t("span",Jo,n(qt.value),1),e[97]||(e[97]=t("span",{class:"kpi-card__label"},"Deals Ativos",-1))])]),t("div",Qo,[e[100]||(e[100]=X('<div class="kpi-card__icon" data-v-b82ff289><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-b82ff289><circle cx="9" cy="9" r="7" data-v-b82ff289></circle><path d="M9 6v6M6 9h6" data-v-b82ff289></path><circle cx="15" cy="15" r="7" fill="var(--yellow)" stroke="currentColor" data-v-b82ff289></circle><path d="M15 12v6M12 15h6" data-v-b82ff289></path></svg></div>',1)),t("div",Yo,[t("span",Xo,n(be(kt.value)),1),e[99]||(e[99]=t("span",{class:"kpi-card__label"},"Em Pipeline",-1))])]),t("div",es,[e[102]||(e[102]=X('<div class="kpi-card__icon" data-v-b82ff289><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-b82ff289><path d="M6 4h12v6a6 6 0 01-12 0V4z" fill="var(--yellow)" data-v-b82ff289></path><path d="M6 4H4a2 2 0 000 4h2M18 4h2a2 2 0 010 4h-2" data-v-b82ff289></path><path d="M12 16v4M8 22h8" data-v-b82ff289></path></svg></div>',1)),t("div",ts,[t("span",as,n(ve("Ganho").length),1),e[101]||(e[101]=t("span",{class:"kpi-card__label"},"Ganhos",-1))])]),t("div",os,[e[104]||(e[104]=t("div",{class:"kpi-card__icon"},[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("polyline",{points:"4 16 8 12 12 14 20 6"}),t("polyline",{points:"14 6 20 6 20 12"})])],-1)),t("div",ss,[t("span",ls,n(Ht.value)+"%",1),e[103]||(e[103]=t("span",{class:"kpi-card__label"},"Taxa Convers√£o",-1))])]),t("div",is,[e[106]||(e[106]=t("div",{class:"kpi-card__icon"},[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polyline",{points:"12 6 12 12 16 14"})])],-1)),t("div",ns,[t("span",rs,n(Gt.value)+"d",1),e[105]||(e[105]=t("span",{class:"kpi-card__label"},"Tempo M√©dio",-1))])]),t("div",ds,[e[108]||(e[108]=t("div",{class:"kpi-card__icon"},[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M4 6h16a2 2 0 012 2v2a2 2 0 00-2 2 2 2 0 002 2v2a2 2 0 01-2 2H4a2 2 0 01-2-2v-2a2 2 0 002-2 2 2 0 00-2-2V8a2 2 0 012-2z",fill:"var(--yellow)"}),t("line",{x1:"10",y1:"6",x2:"10",y2:"18","stroke-dasharray":"2 2"})])],-1)),t("div",cs,[t("span",us,n(be(Wt.value)),1),e[107]||(e[107]=t("span",{class:"kpi-card__label"},"Ticket M√©dio",-1))])])])])),Z.value?p("",!0):(s(),l("div",vs,[t("div",{class:O(["search-bar",{"search-bar--focused":J.value}])},[e[109]||(e[109]=t("img",{class:"search-bar__saturn",src:yo,alt:"Saturn"},null,-1)),f(t("input",{type:"text",class:"search-bar__input",placeholder:"Buscar por nome, telefone ou email...","onUpdate:modelValue":e[2]||(e[2]=a=>B.value=a),onFocus:e[3]||(e[3]=a=>J.value=!0),onBlur:Xt,onKeydown:[e[4]||(e[4]=me(a=>J.value=!1,["escape"])),me(ea,["enter"]),e[5]||(e[5]=me(P(a=>At(1),["prevent"]),["down"])),e[6]||(e[6]=me(P(a=>At(-1),["prevent"]),["up"]))]},null,544),[[_,B.value]]),B.value?(s(),l("button",{key:0,class:"search-bar__clear",onClick:ta},"‚úï")):p("",!0)],2),J.value&&B.value.length>=2?(s(),l("div",ps,[Ne.value.length===0?(s(),l("div",ms," Nenhum resultado encontrado ")):p("",!0),(s(!0),l(M,null,F(Ne.value,(a,d)=>(s(),l("div",{key:a.id,class:O(["search-suggestion",{"search-suggestion--active":Q.value===d}]),onMousedown:P(i=>Mt(a),["prevent"])},[t("div",gs,[t("span",hs,n(a.clientName||"Sem nome"),1),t("span",{class:O(["search-suggestion__stage",`search-suggestion__stage--${Yt(a.status||"")}`])},[t("span",{class:"search-suggestion__stage-icon",innerHTML:Et(a.status||"")},null,8,ys),w(" "+n(Qt(a.status||"")),1)],2)]),t("div",bs,[a.phone?(s(),l("span",_s,[e[110]||(e[110]=t("svg",{class:"search-suggestion__detail-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})],-1)),w(" "+n(a.phone),1)])):p("",!0),a.personEmail?(s(),l("span",ws,[e[111]||(e[111]=t("svg",{class:"search-suggestion__detail-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),t("polyline",{points:"22,6 12,13 2,6"})],-1)),w(" "+n(a.personEmail),1)])):p("",!0)]),a.cidadeExecucao?(s(),l("div",ks,[e[112]||(e[112]=t("svg",{class:"search-suggestion__detail-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t("circle",{cx:"12",cy:"10",r:"3"})],-1)),w(" "+n($(a.cidadeExecucao)),1)])):p("",!0)],42,fs))),128))])):p("",!0)])),W.value&&!Z.value?(s(),l("div",xs,[t("div",Cs,[e[113]||(e[113]=t("label",{class:"filter-label"},"Buscar",-1)),f(t("input",{type:"text",class:"filter-input",placeholder:"Nome do cliente...","onUpdate:modelValue":e[7]||(e[7]=a=>B.value=a)},null,512),[[_,B.value]])]),t("div",Es,[e[115]||(e[115]=t("label",{class:"filter-label"},"Consultor",-1)),f(t("select",{class:"filter-select","onUpdate:modelValue":e[8]||(e[8]=a=>K.value=a)},[e[114]||(e[114]=t("option",{value:""},"Todos",-1)),(s(!0),l(M,null,F(xt.value,a=>(s(),l("option",{key:a,value:a},n(a),9,As))),128))],512),[[fe,K.value]])]),t("div",Ms,[e[117]||(e[117]=t("label",{class:"filter-label"},"Per√≠odo",-1)),f(t("select",{class:"filter-select","onUpdate:modelValue":e[9]||(e[9]=a=>ce.value=a)},[...e[116]||(e[116]=[X('<option value="" data-v-b82ff289>Todos</option><option value="7" data-v-b82ff289>√öltimos 7 dias</option><option value="30" data-v-b82ff289>√öltimos 30 dias</option><option value="90" data-v-b82ff289>√öltimos 90 dias</option><option value="365" data-v-b82ff289>Este ano</option>',5)])],512),[[fe,ce.value]])]),t("div",Ns,[e[119]||(e[119]=t("label",{class:"filter-label"},"Ordenar por",-1)),f(t("select",{class:"filter-select","onUpdate:modelValue":e[10]||(e[10]=a=>he.value=a)},[...e[118]||(e[118]=[X('<option value="recent" data-v-b82ff289>Mais Recentes</option><option value="oldest" data-v-b82ff289>Mais Antigos</option><option value="value-high" data-v-b82ff289>Maior Valor</option><option value="value-low" data-v-b82ff289>Menor Valor</option><option value="name-az" data-v-b82ff289>Nome A-Z</option><option value="name-za" data-v-b82ff289>Nome Z-A</option><option value="days-high" data-v-b82ff289>Mais Dias no Est√°gio</option><option value="days-low" data-v-b82ff289>Menos Dias no Est√°gio</option>',8)])],512),[[fe,he.value]])]),t("button",{class:"btn btn--small btn--outline",onClick:fa}," Limpar ")])):p("",!0),Z.value?p("",!0):(s(),l("div",{key:3,class:"pipeline",ref_key:"pipelineRef",ref:qe},[(s(!0),l(M,null,F(D.value,(a,d)=>(s(),l("div",{key:a.id,class:O(["pipeline-column",[`pipeline-column--${a.color}`,{"pipeline-column--drag-over":de.value===a.id}]]),style:we({"--delay":d*.05+"s"}),onDragover:P(i=>ua(i,a.id),["prevent"]),onDragleave:va,onDrop:i=>pa(i,a.id)},[t("div",Fs,[t("div",Ts,[t("span",{class:"pipeline-column__icon",innerHTML:Et(a.id)},null,8,Os),t("span",null,n(a.name),1)]),t("div",Ss,[t("span",Ds,n(ve(a.id).length),1),t("span",Ls,n(be(aa(a.id))),1)])]),t("button",{class:"pipeline-column__add",onClick:i=>Tt(a.id)}," + Adicionar deal ",8,$s),t("div",Bs,[Vt(go,{name:"card",tag:"div",class:"pipeline-column__cards"},{default:fo(()=>[(s(!0),l(M,null,F(ve(a.id),i=>(s(),l("div",{key:i.id,class:O(["deal-card",{"deal-card--dragging":ke.value?.id===i.id}]),draggable:"true",onDragstart:v=>da(v,i),onDragend:ca,onClick:v=>rt(i)},[t("div",Vs,[t("span",js,n(i.clientName||"Sem nome"),1),t("span",Rs,"#"+n(i.pipedriveDealId||i.id.slice(-4)),1)]),i.tipoCliente||i.metragemEstimadaN1?(s(),l("div",Us,[i.tipoCliente?(s(),l("span",zs,[i.tipoCliente==="Consumidor Final"?(s(),l("svg",qs,[...e[120]||(e[120]=[t("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},null,-1),t("polyline",{points:"9 22 9 12 15 12 15 22"},null,-1)])])):(s(),l("svg",Hs,[...e[121]||(e[121]=[t("path",{d:"M2 18v3h20v-3"},null,-1),t("path",{d:"M6 14v4"},null,-1),t("path",{d:"M18 14v4"},null,-1),t("path",{d:"M12 14v4"},null,-1),t("path",{d:"M4 10h16"},null,-1),t("path",{d:"M4 10 12 3l8 7"},null,-1)])])),w(" "+n(i.tipoCliente),1)])):p("",!0),i.metragemEstimadaN1?(s(),l("span",Gs,[e[122]||(e[122]=t("svg",{class:"deal-card__tag-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M3 3v18h18"}),t("path",{d:"M8 17V9"}),t("path",{d:"M12 17V5"}),t("path",{d:"M16 17v-4"}),t("path",{d:"M20 17v-8"})],-1)),w(" "+n(i.metragemEstimadaN1),1)])):p("",!0)])):p("",!0),t("div",Ws,n(be(i.value||0)),1),i.cidadeExecucao?(s(),l("div",Ks," üìç "+n($(i.cidadeExecucao)),1)):p("",!0),t("div",Zs,[t("div",{class:"deal-card__specialist",title:i.consultor},[t("span",{class:"deal-card__specialist-dot",style:we({backgroundColor:la(i.consultor)})},null,4),t("span",Qs,n(ia(i.consultor)),1)],8,Js),t("div",{class:O(["deal-card__days",Pt(i.daysInStage)])},n(i.daysInStage||0)+"d ",3)]),t("div",Ys,[t("button",{class:"deal-action deal-action--whatsapp",title:"WhatsApp",onClick:P(v=>ft(i),["stop"])},[...e[123]||(e[123]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})],-1)])],8,Xs),t("button",{class:"deal-action deal-action--link",title:"Pipedrive",onClick:P(v=>Wa(i.pipedriveUrl),["stop"])},[...e[124]||(e[124]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),t("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})],-1)])],8,el),t("button",{class:"deal-action deal-action--menu",title:"Mais",onClick:P(v=>Ka(i,v),["stop"])},[...e[125]||(e[125]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"12",cy:"12",r:"1.5",fill:"currentColor"}),t("circle",{cx:"12",cy:"5",r:"1.5",fill:"currentColor"}),t("circle",{cx:"12",cy:"19",r:"1.5",fill:"currentColor"})],-1)])],8,tl)])],42,Is))),128))]),_:2},1024),ve(a.id).length===0?(s(),l("div",al,[...e[126]||(e[126]=[X('<span class="pipeline-column__empty-icon" data-v-b82ff289><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" data-v-b82ff289><circle cx="12" cy="12" r="10" data-v-b82ff289></circle><circle cx="12" cy="12" r="6" data-v-b82ff289></circle><circle cx="12" cy="12" r="2" fill="currentColor" data-v-b82ff289></circle></svg></span><span data-v-b82ff289>Arraste deals aqui</span>',2)])])):p("",!0)])],46,Ps))),128)),t("div",{class:"pipeline-settings-column",onClick:e[11]||(e[11]=a=>te.value=!0)},[...e[127]||(e[127]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"3"}),t("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})],-1)])])],512)),(s(),ne(re,{to:"body"},[r.value?(s(),l("div",{key:0,class:"modal-overlay",onClick:P(dt,["self"])},[t("div",ol,[t("div",sl,[t("div",ll,[t("h2",il,n(r.value.clientName),1),t("div",nl,[r.value.tipoCliente?(s(),l("span",rl,n(r.value.tipoCliente),1)):p("",!0),r.value.tipoProjeto?(s(),l("span",dl,n(r.value.tipoProjeto),1)):p("",!0)])]),t("div",cl,[r.value.pipedriveUrl?(s(),l("a",{key:0,href:r.value.pipedriveUrl,target:"_blank",class:"btn btn--ghost btn--icon",title:"Abrir no Pipedrive"},[...e[128]||(e[128]=[t("svg",{class:"btn__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),t("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})],-1)])],8,ul)):p("",!0),t("button",{class:"modal__close",onClick:dt},[...e[129]||(e[129]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])])]),t("div",vl,[t("div",pl,[(s(!0),l(M,null,F(D.value.filter(a=>a.id!=="Ganho"&&a.id!=="Perdido"),(a,d)=>(s(),l(M,{key:a.id},[d>0?(s(),l("div",{key:0,class:O(["pipeline-progress__connector",{"pipeline-progress__connector--completed":Ve(r.value.status)>=d,"pipeline-progress__connector--pending":Ve(r.value.status)<d}])},null,2)):p("",!0),t("div",{class:O(["pipeline-progress__stage",{"pipeline-progress__stage--completed":Ve(r.value.status)>d,"pipeline-progress__stage--current":r.value.status===a.id,"pipeline-progress__stage--pending":Ve(r.value.status)<d}]),onClick:i=>it(a.id),title:`${a.name} - Clique para mover`},[r.value.status===a.id?(s(),l("div",fl,[...e[130]||(e[130]=[t("svg",{viewBox:"0 0 64 40",fill:"none"},[t("g",{transform:"translate(64,0) scale(-1,1)"},[t("rect",{x:"18",y:"12",width:"6",height:"8",fill:"#1a1a1a"}),t("rect",{x:"12",y:"18",width:"24",height:"14",rx:"2",fill:"#1a1a1a"}),t("rect",{x:"36",y:"14",width:"14",height:"18",fill:"#1a1a1a"}),t("rect",{x:"38",y:"16",width:"4",height:"4",fill:"#FFE566"}),t("rect",{x:"44",y:"16",width:"4",height:"4",fill:"#FFE566"}),t("circle",{cx:"18",cy:"34",r:"5",fill:"#1a1a1a"}),t("circle",{cx:"18",cy:"34",r:"2",fill:"#c9a962"}),t("circle",{cx:"30",cy:"34",r:"5",fill:"#1a1a1a"}),t("circle",{cx:"30",cy:"34",r:"2",fill:"#c9a962"}),t("circle",{cx:"44",cy:"34",r:"4",fill:"#1a1a1a"}),t("circle",{cx:"44",cy:"34",r:"1.5",fill:"#c9a962"}),t("rect",{x:"8",y:"22",width:"4",height:"6",rx:"1",fill:"#FFE566"}),t("rect",{x:"14",y:"24",width:"20",height:"2",fill:"#c9a962"}),t("rect",{x:"36",y:"28",width:"14",height:"2",fill:"#c9a962"})])],-1)])])):p("",!0),t("span",gl,n(ra(a.id))+"d ",1),t("span",hl,n(a.name),1)],10,ml)],64))),128))]),t("div",yl,[t("button",{class:O(["pipeline-progress__final-btn pipeline-progress__final-btn--ganho",{"pipeline-progress__final-btn--active":r.value.status==="Ganho"}]),onClick:e[12]||(e[12]=a=>it("Ganho"))},[...e[131]||(e[131]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),t("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),t("path",{d:"M4 22h16"}),t("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),t("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),t("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})],-1),w(" Ganho ",-1)])],2),t("button",{class:O(["pipeline-progress__final-btn pipeline-progress__final-btn--perdido",{"pipeline-progress__final-btn--active":r.value.status==="Perdido"}]),onClick:e[13]||(e[13]=a=>it("Perdido"))},[...e[132]||(e[132]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),t("line",{x1:"9",y1:"9",x2:"15",y2:"15"})],-1),w(" Perdido ",-1)])],2)])]),t("div",bl,[t("div",_l,[e[138]||(e[138]=t("h3",{class:"detail-section__title"},"Resumo",-1)),t("div",wl,[t("div",kl,[e[133]||(e[133]=t("span",{class:"detail-label"},"Valor",-1)),g.value==="value"?f((s(),l("input",{key:0,type:"number",class:"inline-edit-input inline-edit-input--large","onUpdate:modelValue":e[14]||(e[14]=a=>c.value=a),onBlur:e[15]||(e[15]=a=>R("value")),onKeydown:e[16]||(e[16]=a=>Y(a,"value")),ref:"editInput",autofocus:""},null,544)),[[_,c.value]]):(s(),l("span",{key:1,class:"detail-value detail-value--large detail-value--editable",onClick:e[17]||(e[17]=a=>j("value",r.value.value)),title:"Clique para editar"},n(be(r.value.value||0)),1))]),t("div",xl,[e[134]||(e[134]=t("span",{class:"detail-label"},"Est√°gio",-1)),t("span",{class:"detail-value detail-value--stage",style:we({"--stage-color":na(r.value.status)})},n(D.value.find(a=>a.id===r.value?.status)?.emoji)+" "+n(D.value.find(a=>a.id===r.value?.status)?.name||"N/A"),5)]),t("div",Cl,[e[135]||(e[135]=t("span",{class:"detail-label"},"Dias no Est√°gio",-1)),t("span",{class:O(["detail-value",Pt(r.value.daysInStage)])},n(r.value.daysInStage||0)+" dias ",3)]),t("div",El,[e[137]||(e[137]=t("span",{class:"detail-label"},"Consultor",-1)),g.value==="consultor"?f((s(),l("select",{key:0,class:"inline-edit-select","onUpdate:modelValue":e[18]||(e[18]=a=>c.value=a),onBlur:e[19]||(e[19]=a=>R("consultor")),onChange:e[20]||(e[20]=a=>mt("consultor")),autofocus:""},[e[136]||(e[136]=t("option",{value:""},"Selecione...",-1)),(s(!0),l(M,null,F(x.value,a=>(s(),l("option",{key:a,value:a},n(a),9,Al))),128))],544)),[[fe,c.value]]):(s(),l("span",{key:1,class:"detail-value detail-value--editable",onClick:e[21]||(e[21]=a=>j("consultor",r.value.consultor)),title:"Clique para editar"},n(r.value.consultor||"N/A"),1))])])]),t("div",Ml,[e[143]||(e[143]=t("h3",{class:"detail-section__title"},"Contato",-1)),t("div",Nl,[t("div",Pl,[e[139]||(e[139]=t("span",{class:"detail-label"},"Telefone",-1)),g.value==="phone"?f((s(),l("input",{key:0,type:"tel",class:"inline-edit-input","onUpdate:modelValue":e[22]||(e[22]=a=>c.value=a),onBlur:e[23]||(e[23]=a=>R("phone")),onKeydown:e[24]||(e[24]=a=>Y(a,"phone")),placeholder:"(11) 99999-9999",autofocus:""},null,544)),[[_,c.value]]):(s(),l("span",{key:1,class:"detail-value detail-value--editable",onClick:e[26]||(e[26]=a=>j("phone",r.value.phone)),title:"Clique para editar"},[w(" üì± "+n(r.value.phone||"N/A")+" ",1),t("span",{class:"edit-action",onClick:e[25]||(e[25]=P(a=>ft(r.value),["stop"]))},"üí¨")]))]),t("div",Fl,[e[140]||(e[140]=t("span",{class:"detail-label"},"Email",-1)),g.value==="personEmail"?f((s(),l("input",{key:0,type:"email",class:"inline-edit-input","onUpdate:modelValue":e[27]||(e[27]=a=>c.value=a),onBlur:e[28]||(e[28]=a=>R("personEmail")),onKeydown:e[29]||(e[29]=a=>Y(a,"personEmail")),placeholder:"email@exemplo.com",autofocus:""},null,544)),[[_,c.value]]):(s(),l("span",{key:1,class:"detail-value detail-value--editable",onClick:e[30]||(e[30]=a=>j("personEmail",r.value.personEmail)),title:"Clique para editar"},n(r.value.personEmail||"N/A"),1))]),t("div",Tl,[e[141]||(e[141]=t("span",{class:"detail-label"},"WhatsApp (Z-API)",-1)),t("span",Ol,n(r.value.telefoneZapi||r.value.phone||"N/A"),1)]),t("div",Sl,[e[142]||(e[142]=t("span",{class:"detail-label"},"Nome Z-API",-1)),t("span",Dl,n(r.value.primeiroNomeZapi||"N/A"),1)])])]),t("div",Ll,[e[151]||(e[151]=t("h3",{class:"detail-section__title"},"Dados do Projeto",-1)),t("div",$l,[t("div",Bl,[e[144]||(e[144]=t("span",{class:"detail-label"},"Endere√ßo",-1)),g.value==="endereco"?f((s(),l("input",{key:0,type:"text",class:"inline-edit-input inline-edit-input--full","onUpdate:modelValue":e[31]||(e[31]=a=>c.value=a),onBlur:e[32]||(e[32]=a=>R("endereco")),onKeydown:e[33]||(e[33]=a=>Y(a,"endereco")),placeholder:"Rua, n√∫mero, bairro, cidade",autofocus:""},null,544)),[[_,c.value]]):(s(),l("span",{key:1,class:"detail-value detail-value--editable",onClick:e[34]||(e[34]=a=>j("endereco",r.value.endereco||r.value.cidadeExecucaoDesc)),title:"Clique para editar"},n(r.value.endereco||r.value.cidadeExecucaoDesc||"N/A"),1))]),t("div",Il,[e[145]||(e[145]=t("span",{class:"detail-label"},"Cidade",-1)),g.value==="cidadeExecucao"?f((s(),l("input",{key:0,type:"text",class:"inline-edit-input","onUpdate:modelValue":e[35]||(e[35]=a=>c.value=a),onBlur:e[36]||(e[36]=a=>R("cidadeExecucao")),onKeydown:e[37]||(e[37]=a=>Y(a,"cidadeExecucao")),placeholder:"S√£o Paulo",autofocus:""},null,544)),[[_,c.value]]):(s(),l("span",{key:1,class:"detail-value detail-value--editable",onClick:e[38]||(e[38]=a=>j("cidadeExecucao",r.value.cidadeExecucao)),title:"Clique para editar"},n($(r.value.cidadeExecucao)||"N/A"),1))]),t("div",Vl,[e[146]||(e[146]=t("span",{class:"detail-label"},"M¬≤ Estimado",-1)),g.value==="metragemEstimada"?f((s(),l("input",{key:0,type:"number",class:"inline-edit-input","onUpdate:modelValue":e[39]||(e[39]=a=>c.value=a),onBlur:e[40]||(e[40]=a=>R("metragemEstimada")),onKeydown:e[41]||(e[41]=a=>Y(a,"metragemEstimada")),placeholder:"150",autofocus:""},null,544)),[[_,c.value]]):(s(),l("span",{key:1,class:"detail-value detail-value--metric detail-value--editable",onClick:e[42]||(e[42]=a=>j("metragemEstimada",r.value.metragemEstimada||r.value.m2Total)),title:"Clique para editar"},n(r.value.metragemEstimada||r.value.m2Total||0)+" m¬≤ ",1))]),t("div",jl,[e[147]||(e[147]=t("span",{class:"detail-label"},"Faixa Metragem",-1)),t("span",Rl,n(r.value.metragemEstimadaN1||"N/A"),1)]),t("div",Ul,[e[148]||(e[148]=t("span",{class:"detail-label"},"Estado da Obra",-1)),g.value==="estadoObra"?f((s(),l("input",{key:0,type:"text",class:"inline-edit-input","onUpdate:modelValue":e[43]||(e[43]=a=>c.value=a),onBlur:e[44]||(e[44]=a=>R("estadoObra")),onKeydown:e[45]||(e[45]=a=>Y(a,"estadoObra")),placeholder:"Em andamento",autofocus:""},null,544)),[[_,c.value]]):(s(),l("span",{key:1,class:"detail-value detail-value--editable",onClick:e[46]||(e[46]=a=>j("estadoObra",r.value.estadoObra)),title:"Clique para editar"},n(r.value.estadoObra||"N/A"),1))]),t("div",zl,[e[149]||(e[149]=t("span",{class:"detail-label"},"Budget Estimado",-1)),g.value==="budgetEstimado"?f((s(),l("input",{key:0,type:"text",class:"inline-edit-input","onUpdate:modelValue":e[47]||(e[47]=a=>c.value=a),onBlur:e[48]||(e[48]=a=>R("budgetEstimado")),onKeydown:e[49]||(e[49]=a=>Y(a,"budgetEstimado")),placeholder:"R$ 50.000 - R$ 100.000",autofocus:""},null,544)),[[_,c.value]]):(s(),l("span",{key:1,class:"detail-value detail-value--editable",onClick:e[50]||(e[50]=a=>j("budgetEstimado",r.value.budgetEstimado)),title:"Clique para editar"},n(r.value.budgetEstimado||"N/A"),1))]),t("div",ql,[e[150]||(e[150]=t("span",{class:"detail-label"},"Data Prevista Execu√ß√£o",-1)),g.value==="dataPrevistaExec"?f((s(),l("input",{key:0,type:"text",class:"inline-edit-input","onUpdate:modelValue":e[51]||(e[51]=a=>c.value=a),onBlur:e[52]||(e[52]=a=>R("dataPrevistaExec")),onKeydown:e[53]||(e[53]=a=>Y(a,"dataPrevistaExec")),placeholder:"Jan/2026",autofocus:""},null,544)),[[_,c.value]]):(s(),l("span",{key:1,class:"detail-value detail-value--editable",onClick:e[54]||(e[54]=a=>j("dataPrevistaExec",r.value.dataPrevistaExec)),title:"Clique para editar"},n(r.value.dataPrevistaExec||"N/A"),1))])])]),r.value.tipoCliente==="Arquiteto"||r.value.nomeEscritorio?(s(),l("div",Hl,[e[154]||(e[154]=t("h3",{class:"detail-section__title"},"Arquiteto / Escrit√≥rio",-1)),t("div",Gl,[t("div",Wl,[e[152]||(e[152]=t("span",{class:"detail-label"},"Nome do Escrit√≥rio",-1)),g.value==="nomeEscritorio"?f((s(),l("input",{key:0,type:"text",class:"inline-edit-input","onUpdate:modelValue":e[55]||(e[55]=a=>c.value=a),onBlur:e[56]||(e[56]=a=>R("nomeEscritorio")),onKeydown:e[57]||(e[57]=a=>Y(a,"nomeEscritorio")),placeholder:"Nome do escrit√≥rio",autofocus:""},null,544)),[[_,c.value]]):(s(),l("span",{key:1,class:"detail-value detail-value--editable",onClick:e[58]||(e[58]=a=>j("nomeEscritorio",r.value.nomeEscritorio)),title:"Clique para editar"},n(r.value.nomeEscritorio||"N/A"),1))]),t("div",Kl,[e[153]||(e[153]=t("span",{class:"detail-label"},"Detalhes do Arquiteto",-1)),g.value==="detalhesArquiteto"?f((s(),l("textarea",{key:0,class:"inline-edit-textarea","onUpdate:modelValue":e[59]||(e[59]=a=>c.value=a),onBlur:e[60]||(e[60]=a=>R("detalhesArquiteto")),onKeydown:me(_e,["esc"]),placeholder:"Detalhes sobre o arquiteto...",rows:"3",autofocus:""},null,544)),[[_,c.value]]):(s(),l("span",{key:1,class:"detail-value detail-value--editable",onClick:e[61]||(e[61]=a=>j("detalhesArquiteto",r.value.detalhesArquiteto)),title:"Clique para editar"},n(r.value.detalhesArquiteto||"N/A"),1))])])])):p("",!0),t("div",Zl,[e[157]||(e[157]=t("h3",{class:"detail-section__title"},"Observa√ß√µes",-1)),t("div",Jl,[t("div",Ql,[e[155]||(e[155]=t("span",{class:"detail-label"},"Resumo",-1)),g.value==="resumo"?f((s(),l("textarea",{key:0,class:"inline-edit-textarea","onUpdate:modelValue":e[62]||(e[62]=a=>c.value=a),onBlur:e[63]||(e[63]=a=>R("resumo")),onKeydown:me(_e,["esc"]),placeholder:"Resumo do projeto...",rows:"3",autofocus:""},null,544)),[[_,c.value]]):(s(),l("span",{key:1,class:"detail-value detail-value--text detail-value--editable",onClick:e[64]||(e[64]=a=>j("resumo",r.value.resumo)),title:"Clique para editar"},n(r.value.resumo||"Clique para adicionar..."),1))]),t("div",Yl,[e[156]||(e[156]=t("span",{class:"detail-label"},"Descritivo da √Årea",-1)),g.value==="descritivoArea"?f((s(),l("textarea",{key:0,class:"inline-edit-textarea","onUpdate:modelValue":e[65]||(e[65]=a=>c.value=a),onBlur:e[66]||(e[66]=a=>R("descritivoArea")),onKeydown:me(_e,["esc"]),placeholder:"Descri√ß√£o da √°rea...",rows:"3",autofocus:""},null,544)),[[_,c.value]]):(s(),l("span",{key:1,class:"detail-value detail-value--text detail-value--editable",onClick:e[67]||(e[67]=a=>j("descritivoArea",r.value.descritivoArea)),title:"Clique para editar"},n(r.value.descritivoArea||"Clique para adicionar..."),1))])])]),t("div",Xl,[t("div",{class:"detail-section__header"},[e[158]||(e[158]=t("h3",{class:"detail-section__title"},"üìé Anexos",-1)),t("button",{class:"btn btn--sm btn--primary",onClick:Pa}," + Adicionar ")]),Xe.value?(s(),l("div",ei,"Carregando anexos...")):se.value.length===0?(s(),l("div",ti," Nenhum anexo. Adicione projetos arquitet√¥nicos, plantas e documentos. ")):(s(),l("div",ai,[(s(!0),l(M,null,F(se.value,a=>(s(),l("div",{key:a.id,class:"anexo-item"},[t("div",oi,n(a.mimeType?.includes("pdf")?"üìÑ":a.mimeType?.includes("image")?"üñºÔ∏è":"üìÅ"),1),t("div",si,[t("span",li,n(a.nome),1),t("span",ii,[w(n(La(a.tipo))+" ",1),a.fileSize?(s(),l("span",ni," ‚Ä¢ "+n(Da(a.fileSize)),1)):p("",!0)])]),t("div",ri,[t("button",{class:"btn btn--ghost btn--sm",onClick:d=>Oa(a),title:"Baixar"}," ‚¨áÔ∏è ",8,di),t("button",{class:"btn btn--ghost btn--sm btn--danger",onClick:d=>Sa(a),title:"Excluir"}," üóëÔ∏è ",8,ci)])]))),128))]))]),t("div",ui,[t("div",{class:"detail-section__header"},[e[159]||(e[159]=t("h3",{class:"detail-section__title"},[t("svg",{class:"detail-section__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),t("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]),w(" Or√ßamentos Enviados ")],-1)),t("button",{class:"btn btn--sm btn--primary",onClick:Ba}," + Registrar Envio ")]),tt.value?(s(),l("div",vi,"Carregando or√ßamentos...")):le.value.length===0?(s(),l("div",pi," Nenhum or√ßamento enviado registrado. ")):(s(),l("div",mi,[(s(!0),l(M,null,F(le.value,a=>(s(),l("div",{key:a.id,class:"orcamento-item"},[t("div",fi,n(ja(a.dataEnvio)),1),t("div",gi,[a.valor?(s(),l("span",hi,n(be(a.valor)),1)):p("",!0),a.metragem?(s(),l("span",yi,n(a.metragem)+"m¬≤ ",1)):p("",!0),a.proposta?(s(),l("span",bi," Proposta v"+n(a.proposta.versao),1)):p("",!0)]),a.descricao||a.observacoes?(s(),l("div",_i,n(a.descricao||a.observacoes),1)):p("",!0),t("button",{class:"btn btn--ghost btn--sm btn--danger",onClick:d=>Va(a),title:"Excluir"}," üóëÔ∏è ",8,wi)]))),128))]))]),C.value&&S.value?.stats?(s(),l("div",ki,[e[165]||(e[165]=t("div",{class:"detail-section__header"},[t("h3",{class:"detail-section__title"},[t("svg",{class:"detail-section__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t("circle",{cx:"12",cy:"12",r:"3"})]),w(" Hist√≥rico de Visualiza√ß√µes ")])],-1)),t("div",xi,[t("div",Ci,[t("span",Ei,n(S.value.stats.humanViews),1),e[160]||(e[160]=t("span",{class:"analytics-stat__label"},"Visualiza√ß√µes",-1))]),t("div",Ai,[t("span",Mi,n(S.value.stats.uniqueVisitors),1),e[161]||(e[161]=t("span",{class:"analytics-stat__label"},"Visitantes √önicos",-1))]),t("div",Ni,[t("span",Pi,n(pe(S.value.stats.avgTimeOnPage)),1),e[162]||(e[162]=t("span",{class:"analytics-stat__label"},"Tempo M√©dio",-1))]),t("div",Fi,[t("span",Ti,n(S.value.stats.maxScrollDepth)+"%",1),e[163]||(e[163]=t("span",{class:"analytics-stat__label"},"Max Scroll",-1))])]),t("div",Oi,[t("span",Si," üíª "+n(S.value.stats.deviceBreakdown.desktop),1),t("span",Di," üì± "+n(S.value.stats.deviceBreakdown.mobile),1),t("span",Li," üìü "+n(S.value.stats.deviceBreakdown.tablet),1)]),S.value.views.length>0?(s(),l("div",$i,[e[164]||(e[164]=t("div",{class:"analytics-views__header"}," √öltimas Visualiza√ß√µes ",-1)),t("div",Bi,[(s(!0),l(M,null,F(S.value.views.slice(0,5),a=>(s(),l("div",{key:a.id,class:O(["analytics-view-item",{"analytics-view-item--bot":a.isBot,"analytics-view-item--has-recording":vt(a.sessionId)}]),onClick:d=>xa(a.sessionId)},[t("span",Vi,n(a.deviceType==="mobile"?"üì±":a.deviceType==="tablet"?"üìü":"üíª"),1),t("span",ji,n(je(a.viewedAt)),1),t("span",Ri,n(pe(a.timeOnPage)),1),t("span",Ui,n(a.scrollDepth)+"% ",1),vt(a.sessionId)?(s(),l("span",zi," ‚ñ∂Ô∏è ")):p("",!0),a.pageTimes&&Object.keys(a.pageTimes).length>0?(s(),l("span",{key:1,class:"analytics-view-item__report",title:"Ver tempo por p√°gina",onClick:P(d=>wa(a),["stop"])}," üìä ",8,qi)):p("",!0)],10,Ii))),128))])])):p("",!0),S.value.stats.firstView?(s(),l("div",Hi,[t("span",Gi," Primeira: "+n(je(S.value.stats.firstView)),1),S.value.stats.lastView?(s(),l("span",Wi," √öltima: "+n(je(S.value.stats.lastView)),1)):p("",!0)])):p("",!0)])):C.value&&!Ge.value?(s(),l("div",Ki,[...e[166]||(e[166]=[t("div",{class:"detail-section__header"},[t("h3",{class:"detail-section__title"},[t("svg",{class:"detail-section__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t("circle",{cx:"12",cy:"12",r:"3"})]),w(" Hist√≥rico de Visualiza√ß√µes ")])],-1),t("div",{class:"detail-empty"}," A proposta ainda n√£o foi visualizada pelo cliente. ",-1)])])):p("",!0),t("div",Zi,[e[171]||(e[171]=t("h3",{class:"detail-section__title"},"Metadados",-1)),t("div",Ji,[t("div",Qi,[e[167]||(e[167]=t("span",{class:"detail-label"},"ID Pipedrive",-1)),t("span",Yi,n(r.value.pipedriveDealId||"N/A"),1)]),t("div",Xi,[e[168]||(e[168]=t("span",{class:"detail-label"},"Criado em",-1)),t("span",en,n(nt(r.value.dealAddTime)),1)]),t("div",tn,[e[169]||(e[169]=t("span",{class:"detail-label"},"Atualizado em",-1)),t("span",an,n(nt(r.value.dealUpdateTime)),1)]),t("div",on,[e[170]||(e[170]=t("span",{class:"detail-label"},"√öltima sync",-1)),t("span",sn,n(nt(r.value.pipedriveSyncedAt)),1)])])])]),t("div",ln,[t("div",{class:"modal__footer-left"},[t("button",{class:"btn btn--outline",onClick:dt},"Fechar")]),t("div",nn,[C.value&&C.value.pdfBase64?(s(),l("button",{key:0,class:"btn btn--info",onClick:Ua},[e[172]||(e[172]=t("svg",{class:"btn__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t("polyline",{points:"7 10 12 15 17 10"}),t("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1)),w(" Ver Proposta v"+n(C.value.versao),1)])):p("",!0),C.value?(s(),l("button",{key:1,class:"btn btn--success",onClick:za,disabled:Fe.value},[Fe.value?(s(),l("span",dn,"Enviando...")):(s(),l("span",cn,[e[173]||(e[173]=t("svg",{class:"btn__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),t("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})],-1)),w(" Enviar Proposta v"+n(C.value.versao),1)]))],8,rn)):p("",!0),C.value?(s(),l("button",{key:2,class:"btn btn--info",onClick:qa,disabled:Te.value},[Te.value?(s(),l("span",vn,"Gerando HTML...")):(s(),l("span",pn,[...e[174]||(e[174]=[t("svg",{class:"btn__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),t("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})],-1),w(" Gerar Link HTML ",-1)])]))],8,un)):p("",!0),t("button",{class:"btn btn--gold",onClick:Ra,disabled:yt.value},[yt.value?(s(),l("span",fn,"Gerando...")):(s(),l("span",gn,[...e[175]||(e[175]=[t("svg",{class:"btn__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1),w(" Gerar Proposta ",-1)])]))],8,mn),t("button",{class:"btn btn--secondary",onClick:e[68]||(e[68]=a=>ft(r.value))},[...e[176]||(e[176]=[t("svg",{class:"btn__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})],-1),w(" WhatsApp ",-1)])])]),ye.value?(s(),l("div",hn,[t("div",{class:"html-link-box__header"},[e[178]||(e[178]=t("span",null,[t("svg",{class:"html-link-box__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),t("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]),w(" Link da proposta com tracking: ")],-1)),t("button",{class:"btn btn--small btn--secondary",onClick:Ha},[...e[177]||(e[177]=[t("svg",{class:"btn__icon--small",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),t("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1),w(" Copiar ",-1)])])]),t("a",{href:ye.value,target:"_blank",class:"html-link-box__url"},n(ye.value),9,yn)])):p("",!0)])])])):p("",!0)])),(s(),ne(re,{to:"body"},[z.value?(s(),l("div",{key:0,class:"modal-overlay",onClick:P(Re,["self"])},[t("div",bn,[t("div",{class:"modal__header"},[e[179]||(e[179]=t("h2",{class:"modal__title"},"üöÄ Novo Deal",-1)),t("button",{class:"modal__close",onClick:Re},"‚úï")]),t("div",_n,[t("div",wn,[e[180]||(e[180]=t("label",{class:"form-label"},"Nome do Cliente *",-1)),f(t("input",{type:"text",class:"form-input","onUpdate:modelValue":e[69]||(e[69]=a=>V.value.clientName=a),placeholder:"Ex: Jo√£o Silva"},null,512),[[_,V.value.clientName]])]),t("div",kn,[t("div",xn,[e[181]||(e[181]=t("label",{class:"form-label"},"Valor (R$)",-1)),f(t("input",{type:"number",class:"form-input","onUpdate:modelValue":e[70]||(e[70]=a=>V.value.value=a),placeholder:"0"},null,512),[[_,V.value.value]])]),t("div",Cn,[e[182]||(e[182]=t("label",{class:"form-label"},"Est√°gio",-1)),f(t("select",{class:"form-select","onUpdate:modelValue":e[71]||(e[71]=a=>V.value.status=a)},[(s(!0),l(M,null,F(D.value,a=>(s(),l("option",{key:a.id,value:a.id},n(a.emoji)+" "+n(a.name),9,En))),128))],512),[[fe,V.value.status]])])]),t("div",An,[e[183]||(e[183]=t("label",{class:"form-label"},"Telefone",-1)),f(t("input",{type:"tel",class:"form-input","onUpdate:modelValue":e[72]||(e[72]=a=>V.value.phone=a),placeholder:"(11) 99999-9999"},null,512),[[_,V.value.phone]])]),t("div",Mn,[e[184]||(e[184]=t("label",{class:"form-label"},"Endere√ßo",-1)),f(t("input",{type:"text",class:"form-input","onUpdate:modelValue":e[73]||(e[73]=a=>V.value.endereco=a),placeholder:"Rua, n√∫mero, bairro"},null,512),[[_,V.value.endereco]])])]),t("div",Nn,[t("button",{class:"btn btn--outline",onClick:Re},"Cancelar"),t("button",{class:"btn btn--primary",onClick:ha,disabled:!V.value.clientName}," Criar Deal ",8,Pn)])])])):p("",!0)])),(s(),ne(re,{to:"body"},[te.value?(s(),l("div",{key:0,class:"modal-overlay modal-overlay--large",onClick:e[75]||(e[75]=P(a=>te.value=!1,["self"]))},[t("div",Fn,[t("div",Tn,[e[185]||(e[185]=t("h2",{class:"modal__title"},"‚öôÔ∏è Configurar Pipeline",-1)),t("button",{class:"modal__close",onClick:e[74]||(e[74]=a=>te.value=!1)},"‚úï")]),t("div",On,[Vt(Ro,{stages:Jt.value,onSave:Za,onReset:Ja},null,8,["stages"])])])])):p("",!0)])),(s(),ne(re,{to:"body"},[ue.value?(s(),l("div",{key:0,class:"modal-overlay",onClick:e[78]||(e[78]=P(a=>ue.value=!1,["self"]))},[t("div",Sn,[t("div",Dn,[e[186]||(e[186]=t("h3",null,"Selecionar Especialista",-1)),t("button",{class:"modal__close",onClick:e[76]||(e[76]=a=>ue.value=!1)},"‚úï")]),t("div",Ln,[t("button",{class:O(["specialist-option",{"specialist-option--active":!T.value}]),onClick:e[77]||(e[77]=a=>Ft(""))},[e[187]||(e[187]=t("span",{class:"specialist-option__name"},"TODOS",-1)),t("span",$n,n(k.value.length)+" deals",1)],2),(s(!0),l(M,null,F(xt.value,a=>(s(),l("button",{key:a,class:O(["specialist-option",{"specialist-option--active":T.value===a}]),onClick:d=>Ft(a)},[t("span",In,n(oa(a)),1),t("span",Vn,n(a),1),t("span",jn,n(ga(a))+" deals",1)],10,Bn))),128))])])])):p("",!0)])),(s(),ne(re,{to:"body"},[et.value?(s(),l("div",{key:0,class:"modal-overlay",onClick:P(Ue,["self"])},[t("div",Rn,[t("div",{class:"modal__header"},[e[188]||(e[188]=t("h2",{class:"modal__title"},"üìé Adicionar Anexo",-1)),t("button",{class:"modal__close",onClick:Ue},"‚úï")]),t("div",Un,[t("div",zn,[e[189]||(e[189]=t("label",{class:"form-label"},"Tipo *",-1)),f(t("select",{class:"form-select","onUpdate:modelValue":e[79]||(e[79]=a=>N.value.tipo=a)},[(s(),l(M,null,F(wt,a=>t("option",{key:a.value,value:a.value},n(a.label),9,qn)),64))],512),[[fe,N.value.tipo]])]),t("div",Hn,[e[190]||(e[190]=t("label",{class:"form-label"},"Arquivo",-1)),t("input",{type:"file",class:"form-input",onChange:Fa,accept:"*/*"},null,32),e[191]||(e[191]=t("p",{class:"form-hint"},"M√°ximo 10MB. PDF, imagens, documentos.",-1))]),t("div",Gn,[e[192]||(e[192]=t("label",{class:"form-label"},"Nome *",-1)),f(t("input",{type:"text",class:"form-input","onUpdate:modelValue":e[80]||(e[80]=a=>N.value.nome=a),placeholder:"Nome do arquivo"},null,512),[[_,N.value.nome]])]),t("div",Wn,[e[193]||(e[193]=t("label",{class:"form-label"},"Descri√ß√£o",-1)),f(t("textarea",{class:"form-textarea","onUpdate:modelValue":e[81]||(e[81]=a=>N.value.descricao=a),placeholder:"Descri√ß√£o opcional...",rows:"2"},null,512),[[_,N.value.descricao]])])]),t("div",Kn,[t("button",{class:"btn btn--outline",onClick:Ue},"Cancelar"),t("button",{class:"btn btn--primary",onClick:Ta,disabled:!N.value.nome}," Adicionar Anexo ",8,Zn)])])])):p("",!0)])),(s(),ne(re,{to:"body"},[at.value?(s(),l("div",{key:0,class:"modal-overlay",onClick:P(ze,["self"])},[t("div",Jn,[t("div",{class:"modal__header"},[e[195]||(e[195]=t("h2",{class:"modal__title"},[t("svg",{class:"modal__title-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),t("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]),w(" Registrar Or√ßamento Enviado ")],-1)),t("button",{class:"modal__close",onClick:ze},[...e[194]||(e[194]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),t("div",Qn,[t("div",Yn,[t("div",Xn,[e[196]||(e[196]=t("label",{class:"form-label"},"Data de Envio *",-1)),f(t("input",{type:"date",class:"form-input","onUpdate:modelValue":e[82]||(e[82]=a=>A.value.dataEnvio=a)},null,512),[[_,A.value.dataEnvio]])]),t("div",er,[e[197]||(e[197]=t("label",{class:"form-label"},"Valor (R$)",-1)),f(t("input",{type:"number",class:"form-input","onUpdate:modelValue":e[83]||(e[83]=a=>A.value.valor=a),step:"0.01"},null,512),[[_,A.value.valor]])])]),t("div",tr,[t("div",ar,[e[198]||(e[198]=t("label",{class:"form-label"},"Metragem (m¬≤)",-1)),f(t("input",{type:"number",class:"form-input","onUpdate:modelValue":e[84]||(e[84]=a=>A.value.metragem=a),step:"0.01"},null,512),[[_,A.value.metragem]])]),C.value?(s(),l("div",or,[e[200]||(e[200]=t("label",{class:"form-label"},"Vincular Proposta",-1)),f(t("select",{class:"form-select","onUpdate:modelValue":e[85]||(e[85]=a=>A.value.propostaId=a)},[e[199]||(e[199]=t("option",{value:""},"Nenhuma",-1)),t("option",{value:C.value.id},"Proposta v"+n(C.value.versao),9,sr)],512),[[fe,A.value.propostaId]])])):p("",!0)]),t("div",lr,[e[201]||(e[201]=t("label",{class:"form-label"},"Descri√ß√£o",-1)),f(t("input",{type:"text",class:"form-input","onUpdate:modelValue":e[86]||(e[86]=a=>A.value.descricao=a),placeholder:"Ex: Or√ßamento enviado por email"},null,512),[[_,A.value.descricao]])]),t("div",ir,[e[202]||(e[202]=t("label",{class:"form-label"},"Observa√ß√µes",-1)),f(t("textarea",{class:"form-textarea","onUpdate:modelValue":e[87]||(e[87]=a=>A.value.observacoes=a),placeholder:"Observa√ß√µes adicionais...",rows:"2"},null,512),[[_,A.value.observacoes]])])]),t("div",nr,[t("button",{class:"btn btn--outline",onClick:ze},"Cancelar"),t("button",{class:"btn btn--primary",onClick:Ia,disabled:!A.value.dataEnvio}," Registrar Envio ",8,rr)])])])):p("",!0)])),(s(),ne(re,{to:"body"},[We.value?(s(),l("div",{key:0,class:"modal-overlay modal-overlay--dark",onClick:P(ut,["self"])},[t("div",dr,[t("div",cr,[e[204]||(e[204]=t("h2",{class:"modal__title"},[t("svg",{class:"modal__title-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polygon",{points:"10 8 16 12 10 16 10 8"})]),w(" Grava√ß√£o de Sess√£o ")],-1)),ae.value?(s(),l("div",ur,[t("span",vr,n(ae.value.deviceType==="mobile"?"üì±":ae.value.deviceType==="tablet"?"üìü":"üíª")+" "+n(ae.value.screenWidth)+"x"+n(ae.value.screenHeight),1),t("span",pr,n(pe(ae.value.duration||0)),1)])):p("",!0),t("button",{class:"modal__close",onClick:ut},[...e[203]||(e[203]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),t("div",mr,[Ke.value?(s(),l("div",fr,[...e[205]||(e[205]=[t("div",{class:"replay-loading__spinner"},null,-1),t("span",null,"Carregando grava√ß√£o...",-1)])])):Ce.value.length>0?(s(),l("div",{key:1,class:"replay-player-container",ref_key:"replayContainer",ref:He},[...e[206]||(e[206]=[t("div",{id:"rrweb-player"},null,-1)])],512)):(s(),l("div",gr," Nenhum evento encontrado nesta grava√ß√£o. "))]),t("div",hr,[t("div",yr,[t("button",{class:"replay-footer-btn replay-footer-btn--play",onClick:Ca,title:oe.value?"Pausar":"Reproduzir"},n(oe.value?"‚è∏":"‚ñ∂"),9,br),t("input",{type:"range",class:"replay-footer-progress",min:"0",max:"100",value:Ze.value,onInput:e[88]||(e[88]=a=>Ea(a))},null,40,_r),t("span",wr,n(Je.value)+" / "+n(_t.value),1),t("button",{class:O(["replay-footer-btn replay-footer-btn--skip",{active:Ae.value}]),onClick:Ma,title:"Pular per√≠odos inativos"},"‚è©",2),t("div",kr,[(s(),l(M,null,F([1,2,4],a=>t("button",{key:a,class:O(["replay-footer-btn replay-footer-btn--speed",{active:Qe.value===a}]),onClick:d=>Aa(a)},n(a)+"x",11,xr)),64))])]),t("button",{class:"btn btn--outline",onClick:ut},"Fechar")])])])):p("",!0)])),(s(),ne(re,{to:"body"},[Ee.value?(s(),l("div",{key:0,class:"modal-overlay",onClick:e[91]||(e[91]=P(a=>Ee.value=!1,["self"]))},[t("div",Cr,[t("div",Er,[e[208]||(e[208]=t("h2",{class:"modal__title"},[t("svg",{class:"modal__title-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M3 3v18h18"}),t("path",{d:"M8 17V9"}),t("path",{d:"M12 17V5"}),t("path",{d:"M16 17v-4"}),t("path",{d:"M20 17v-8"})]),w(" Tempo por P√°gina ")],-1)),t("button",{class:"modal__close",onClick:e[89]||(e[89]=a=>Ee.value=!1)},[...e[207]||(e[207]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),t("div",Ar,[I.value?(s(),l("div",Mr,[t("span",Nr,n(I.value.deviceType==="mobile"?"üì±":I.value.deviceType==="tablet"?"üìü":"üíª"),1),t("span",Pr,n(je(I.value.viewedAt)),1),t("span",Fr," Total: "+n(pe(I.value.timeOnPage)),1)])):p("",!0),I.value?.pageTimes?(s(),l("div",Tr,[(s(!0),l(M,null,F(I.value.pageTimes,(a,d)=>(s(),l("div",{key:d,class:"page-time-bar"},[t("span",Or,"P√°gina "+n(d),1),t("div",Sr,[t("div",{class:"page-time-bar__fill",style:we({width:ka(a)+"%"})},null,4)]),t("span",Dr,n(pe(a)),1)]))),128))])):p("",!0),I.value?.pagesViewed?(s(),l("div",Lr,[e[209]||(e[209]=t("span",{class:"page-times-pages__label"},"P√°ginas vistas:",-1)),t("span",$r,n(Array.isArray(I.value.pagesViewed)?I.value.pagesViewed.join(", "):I.value.pagesViewed),1)])):p("",!0)]),t("div",Br,[t("button",{class:"btn btn--outline",onClick:e[90]||(e[90]=a=>Ee.value=!1)},"Fechar")])])])):p("",!0)])),Ie.value.length>0||st.value.length>0?(s(),l("div",Ir,[Ie.value.length>0?(s(),l("div",Vr,[t("div",jr,[e[210]||(e[210]=t("span",{class:"proposal-notifications__icon"},"üëÅÔ∏è",-1)),e[211]||(e[211]=t("span",{class:"proposal-notifications__title"},"Visualizando Agora",-1)),t("span",Rr,n(Ie.value.length),1)]),t("div",Ur,[(s(!0),l(M,null,F(Ie.value,a=>(s(),l("div",{key:a.sessionId,class:"proposal-notification proposal-notification--live",onClick:d=>Dt(a.leadId)},[t("div",qr,n(a.clientName?.charAt(0)?.toUpperCase()||"?"),1),t("div",Hr,[t("span",Gr,n(a.clientName),1),t("span",Wr,[t("span",Kr,n(pe(a.timeOnPage)),1),t("span",Zr,n(a.deviceType==="mobile"?"üì±":"üíª"),1),t("span",Jr,n(a.scrollDepth)+"%",1)])]),e[212]||(e[212]=t("div",{class:"proposal-notification__pulse"},null,-1))],8,zr))),128))])])):p("",!0),st.value.length>0?(s(),l("div",Qr,[e[213]||(e[213]=t("div",{class:"proposal-notifications__header"},[t("span",{class:"proposal-notifications__icon"},"üìã"),t("span",{class:"proposal-notifications__title"},"Hist√≥rico")],-1)),t("div",Yr,[(s(!0),l(M,null,F(st.value.slice(0,5),a=>(s(),l("div",{key:a.id,class:O(["proposal-notification proposal-notification--history",{"proposal-notification--closed":a.type==="closed"}]),onClick:d=>Dt(a.leadId)},[t("div",ed,n(a.type==="opened"?"üü¢":"üî¥"),1),t("div",td,[t("span",ad,n(a.clientName),1),t("span",od,[w(n(a.type==="opened"?"Abriu":"Fechou")+" ",1),a.timeOnPage?(s(),l(M,{key:0},[w(" ‚Ä¢ "+n(pe(a.timeOnPage)),1)],64)):p("",!0)])]),t("button",{class:"proposal-notification__dismiss",onClick:P(d=>lo(a.id),["stop"]),title:"Dispensar"},"√ó",8,sd)],10,Xr))),128))])])):p("",!0)])):p("",!0),Z.value?(s(),l("div",ld,[...e[214]||(e[214]=[X('<div class="loading-content" data-v-b82ff289><div class="infinity-track-container" data-v-b82ff289><svg class="infinity-track" viewBox="0 0 240 100" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-b82ff289><defs data-v-b82ff289><path id="infinityPath" d="M120,50 C120,75 160,75 160,50 C160,25 120,25 120,50 C120,75 80,75 80,50 C80,25 120,25 120,50" data-v-b82ff289></path></defs><use href="#infinityPath" stroke="#1a1a1a" stroke-width="3" fill="none" data-v-b82ff289></use><circle r="4" fill="#888" data-v-b82ff289><animateMotion dur="3.5s" repeatCount="indefinite" rotate="auto" begin="-0.1s" data-v-b82ff289><mpath href="#infinityPath" data-v-b82ff289></mpath></animateMotion><animate attributeName="r" values="3;7;12" dur="0.6s" repeatCount="indefinite" data-v-b82ff289></animate><animate attributeName="opacity" values="0.5;0.2;0" dur="0.6s" repeatCount="indefinite" data-v-b82ff289></animate><animate attributeName="cy" values="-8;-20;-35" dur="0.6s" repeatCount="indefinite" data-v-b82ff289></animate></circle><g data-v-b82ff289><animateMotion dur="3.5s" repeatCount="indefinite" rotate="auto" data-v-b82ff289><mpath href="#infinityPath" data-v-b82ff289></mpath></animateMotion><g transform="scale(-0.4, 0.4) translate(-32, -20)" data-v-b82ff289><rect x="18" y="0" width="6" height="8" fill="#1a1a1a" data-v-b82ff289></rect><rect x="12" y="6" width="24" height="14" rx="2" fill="#1a1a1a" data-v-b82ff289></rect><rect x="36" y="2" width="14" height="18" fill="#1a1a1a" data-v-b82ff289></rect><rect x="38" y="4" width="4" height="4" fill="#FFE566" data-v-b82ff289></rect><rect x="44" y="4" width="4" height="4" fill="#FFE566" data-v-b82ff289></rect><circle cx="18" cy="22" r="5" fill="#1a1a1a" data-v-b82ff289></circle><circle cx="18" cy="22" r="2" fill="#c9a962" data-v-b82ff289></circle><circle cx="30" cy="22" r="5" fill="#1a1a1a" data-v-b82ff289></circle><circle cx="30" cy="22" r="2" fill="#c9a962" data-v-b82ff289></circle><circle cx="44" cy="22" r="4" fill="#1a1a1a" data-v-b82ff289></circle><circle cx="44" cy="22" r="1.5" fill="#c9a962" data-v-b82ff289></circle><rect x="8" y="10" width="4" height="6" rx="1" fill="#FFE566" data-v-b82ff289></rect><rect x="14" y="12" width="20" height="2" fill="#c9a962" data-v-b82ff289></rect><rect x="36" y="16" width="14" height="2" fill="#c9a962" data-v-b82ff289></rect></g></g></svg></div><div class="loading-text" data-v-b82ff289><span class="loading-title" data-v-b82ff289>Carregando Pipeline</span><div class="loading-dots" data-v-b82ff289><span class="dot" data-v-b82ff289></span><span class="dot" data-v-b82ff289></span><span class="dot" data-v-b82ff289></span></div></div><div class="loading-progress" data-v-b82ff289><div class="loading-progress-bar" data-v-b82ff289></div></div></div>',1)])])):p("",!0)]))}}),ud=Ut(nd,[["__scopeId","data-v-b82ff289"]]);export{ud as default};
