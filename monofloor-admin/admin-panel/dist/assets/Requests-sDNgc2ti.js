import{d as le,u as ne,r as k,h as ie,i as re,c as a,b as r,a as e,j as c,k as v,l as de,f,t as n,m as i,n as x,p as b,F as R,q as z,z as M,w as ce,e as ve,v as ue,g as pe,N as Q,O as $,P as ye,Q as O,o as l,_ as he}from"./index-BxA64SRE.js";import{_ as G}from"./logo-CxXS7KxG.js";const ke={class:"requests-page"},ge={class:"mobile-nav"},xe={class:"mobile-sidebar-footer"},we={class:"mobile-user-info"},Ce={class:"user-avatar"},Ee=["src"],fe={key:1},be={class:"user-name"},me={class:"header"},_e={class:"nav desktop-nav"},Re={key:0,class:"nav-badge"},Ae={class:"header-right"},Ne={class:"user-info"},Be={class:"user-avatar"},Me=["src"],Te={key:1},Se={class:"user-name"},Ie={class:"filter-section"},Pe={class:"filter-tabs"},je={key:0,class:"count-badge"},De={key:0,class:"count-badge"},Oe={key:0,class:"count-badge"},Ue={key:0,class:"count-badge"},Le={key:0,class:"count-badge"},Ve={class:"page-content"},He={key:0,class:"loading"},ze={key:1,class:"empty-state"},Qe={key:2,class:"requests-list"},$e={key:0,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Ge={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Fe={key:2,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Je={key:3,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},We={class:"request-header"},Xe={class:"user-info-card"},Ke={class:"user-avatar-card"},Ye=["src","alt"],Ze={key:1},qe={class:"user-details"},et={class:"user-name-card"},tt={class:"user-email"},ot={key:0,class:"user-phone"},st={class:"request-body"},at={class:"projects-section"},lt={class:"project-row requested"},nt={class:"project-value"},it={class:"project-row current"},rt={key:0,class:"project-address"},dt={class:"value"},ct={key:1,class:"description"},vt={class:"value"},ut={key:1,class:"absence-info"},pt={class:"absence-date-box"},yt={class:"absence-date-text"},ht={class:"value highlight-date"},kt={key:0,class:"info-row"},gt={class:"value"},xt={key:1,class:"info-row"},wt={class:"value highlight"},Ct={key:2,class:"scheduled-tasks"},Et={class:"tasks-list"},ft={class:"task-project"},bt={key:3,class:"penalty-info"},mt={class:"penalty-badge"},_t={key:0},Rt={key:4,class:"no-penalty-info"},At={key:5,class:"unreported-info"},Nt={key:6,class:"acknowledged-info"},Bt={class:"acknowledged-badge"},Mt={key:0,class:"info-row"},Tt={class:"value highlight"},St={key:1,class:"info-row"},It={class:"value"},Pt={key:2,class:"info-row"},jt={class:"value"},Dt={key:3,class:"description-box"},Ot={class:"description-text"},Ut={key:4,class:"transcription-box"},Lt={class:"transcription-text"},Vt={key:5,class:"audio-player"},Ht=["src"],zt={key:6,class:"video-player"},Qt=["src"],$t={key:7,class:"admin-notes"},Gt={class:"notes-text"},Ft={class:"dates"},Jt={class:"date-item"},Wt={class:"value"},Xt={key:0,class:"date-item"},Kt={class:"value"},Yt={key:1,class:"date-item"},Zt={class:"value"},qt={key:0,class:"request-actions"},eo=["onClick"],to=["onClick"],oo=["onClick"],so=["onClick"],ao=["onClick"],lo=["onClick"],no={class:"modal-content"},io={class:"form-group"},ro={class:"modal-actions"},co=le({__name:"Requests",setup(vo){const F=pe(),g=ne(),m=k(!1),U=k(window.innerWidth<768),J=()=>{m.value=!m.value},y=()=>{m.value=!1},L=()=>{U.value=window.innerWidth<768,U.value||(m.value=!1)},W="https://admin.monofloor.cloud",w=s=>{if(s)return s.startsWith("http")?s:`${W}${s}`},T=s=>s?s.split(" ").map(t=>t[0]).join("").substring(0,2).toUpperCase():"?",S=k([]),I=k(!0),p=k("all"),u=k({contributions:0,helpRequests:0,materialRequests:0,absences:0,total:0}),A=k(!1),B=k(""),C=k("resolve"),_=k(""),V=()=>{g.logout(),F.push("/login")},h=async()=>{I.value=!0;try{const s={};p.value!=="all"&&(s.type=p.value);const t=await Q.getAll(s);S.value=t.data.data?.requests||[]}catch(s){console.error("Error loading requests:",s)}finally{I.value=!1}},N=async()=>{try{const s=await Q.getCounts();u.value=s.data.data}catch(s){console.error("Error loading counts:",s)}},X=async s=>{try{await $.approve(s),await h(),await N()}catch(t){console.error("Error approving contribution:",t),alert("Erro ao aprovar solicitacao")}},K=async s=>{if(confirm("Tem certeza que deseja rejeitar esta solicitacao?"))try{await $.reject(s),await h(),await N()}catch(t){console.error("Error rejecting contribution:",t),alert("Erro ao rejeitar solicitacao")}},Y=async s=>{try{await ye.acknowledge(s),await h(),await N()}catch(t){console.error("Error acknowledging absence:",t),alert("Erro ao marcar ciencia da falta")}},P=(s,t)=>{B.value=s,C.value=t,_.value="",A.value=!0},Z=async()=>{try{C.value==="resolve"?await O.resolve(B.value,_.value):C.value==="cancel"?await O.cancel(B.value,_.value):C.value==="progress"&&await O.updateStatus(B.value,"IN_PROGRESS",_.value),A.value=!1,await h(),await N()}catch(s){console.error("Error executing action:",s),alert("Erro ao processar solicitacao")}},q=s=>{switch(s){case"CONTRIBUTION":return"INCLUSAO EM PROJETO";case"ABSENCE":return"AVISO DE FALTA";case"HELP_REQUEST":return"SOLICITACAO DE AJUDA";case"MATERIAL_REQUEST":return"SOLICITACAO DE MATERIAL";default:return s}},j=s=>{switch(s){case"CONTRIBUTION":return"var(--accent-gold)";case"ABSENCE":return"var(--accent-red)";case"HELP_REQUEST":return"var(--accent-purple, #8b5cf6)";case"MATERIAL_REQUEST":return"var(--accent-blue)";default:return"var(--text-tertiary)"}},ee=s=>s.includes("PENDING")?"var(--accent-orange)":s.includes("APPROVED")||s.includes("RESOLVED")||s.includes("CONFIRMED")?"var(--accent-green)":s.includes("REJECTED")||s.includes("CANCELLED")||s.includes("DENIED")?"var(--accent-red)":s.includes("PROGRESS")?"var(--accent-blue)":"var(--text-tertiary)",te=s=>{switch(s){case"PENDING":return"Pendente";case"APPROVED":return"Aprovado";case"REJECTED":return"Rejeitado";case"RESOLVED":return"Resolvido";case"IN_PROGRESS":return"Em Progresso";case"CANCELLED":return"Cancelado";case"CONFIRMED":return"Confirmado";case"UNREPORTED_PENDING":return"Aguardando Resposta";case"UNREPORTED_CONFIRMED":return"Falta Confirmada";case"UNREPORTED_DENIED":return"Negada";case"UNREPORTED_EXPIRED":return"Expirada";default:return s}},D=s=>s?new Date(s).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",oe=s=>s?new Date(s).toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long",year:"numeric"}):"-",se=()=>{switch(C.value){case"resolve":return"Resolver Solicitacao";case"cancel":return"Cancelar Solicitacao";case"progress":return"Marcar Em Progresso";default:return"Acao"}},H=s=>s.type==="CONTRIBUTION"&&s.status==="PENDING"||(s.type==="HELP_REQUEST"||s.type==="MATERIAL_REQUEST")&&(s.status==="PENDING"||s.status==="IN_PROGRESS")||s.type==="ABSENCE"&&!s.details?.acknowledgedAt;return ie(()=>{h(),N(),window.addEventListener("resize",L)}),re(()=>{window.removeEventListener("resize",L)}),(s,t)=>{const d=de("router-link");return l(),a("div",ke,[m.value?(l(),a("div",{key:0,class:"mobile-overlay",onClick:y})):r("",!0),e("aside",{class:x(["mobile-sidebar",{open:m.value}])},[e("div",{class:"mobile-sidebar-header"},[t[9]||(t[9]=e("img",{src:G,alt:"Monofloor",class:"header-logo"},null,-1)),e("button",{class:"close-menu-btn",onClick:y},[...t[8]||(t[8]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),e("nav",ge,[c(d,{to:"/",class:"mobile-nav-link",onClick:y},{default:v(()=>[...t[10]||(t[10]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e("polyline",{points:"9 22 9 12 15 12 15 22"})],-1),i(" Dashboard ",-1)])]),_:1}),c(d,{to:"/applicators",class:"mobile-nav-link",onClick:y},{default:v(()=>[...t[11]||(t[11]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e("circle",{cx:"9",cy:"7",r:"4"}),e("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})],-1),i(" Aplicadores ",-1)])]),_:1}),c(d,{to:"/projects",class:"mobile-nav-link",onClick:y},{default:v(()=>[...t[12]||(t[12]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})],-1),i(" Projetos ",-1)])]),_:1}),c(d,{to:"/reports",class:"mobile-nav-link",onClick:y},{default:v(()=>[...t[13]||(t[13]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"}),e("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e("polyline",{points:"10 9 9 9 8 9"})],-1),i(" Relatorios ",-1)])]),_:1}),c(d,{to:"/requests",class:"mobile-nav-link",onClick:y},{default:v(()=>[...t[14]||(t[14]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})],-1),i(" Solicitacoes ",-1)])]),_:1}),c(d,{to:"/campaigns",class:"mobile-nav-link",onClick:y},{default:v(()=>[...t[15]||(t[15]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),e("line",{x1:"4",y1:"22",x2:"4",y2:"15"})],-1),i(" Campanhas ",-1)])]),_:1}),c(d,{to:"/academy",class:"mobile-nav-link",onClick:y},{default:v(()=>[...t[16]||(t[16]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),e("polyline",{points:"2 17 12 22 22 17"}),e("polyline",{points:"2 12 12 17 22 12"})],-1),i(" Academia ",-1)])]),_:1}),c(d,{to:"/map",class:"mobile-nav-link",onClick:y},{default:v(()=>[...t[17]||(t[17]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),e("line",{x1:"8",y1:"2",x2:"8",y2:"18"}),e("line",{x1:"16",y1:"6",x2:"16",y2:"22"})],-1),i(" Mapa ",-1)])]),_:1})]),e("div",xe,[e("div",we,[e("div",Ce,[w(f(g).user?.photoUrl)?(l(),a("img",{key:0,src:w(f(g).user?.photoUrl),alt:"Avatar",class:"avatar-img"},null,8,Ee)):(l(),a("span",fe,n(T(f(g).user?.name)),1))]),e("span",be,n(f(g).user?.name),1)]),e("button",{onClick:V,class:"mobile-logout-btn"},[...t[18]||(t[18]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e("polyline",{points:"16 17 21 12 16 7"}),e("line",{x1:"21",y1:"12",x2:"9",y2:"12"})],-1),i(" Sair ",-1)])])])],2),e("header",me,[e("div",{class:"header-left"},[e("button",{class:"hamburger-btn",onClick:J},[...t[19]||(t[19]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e("line",{x1:"3",y1:"18",x2:"21",y2:"18"})],-1)])]),t[20]||(t[20]=e("img",{src:G,alt:"Monofloor",class:"header-logo"},null,-1)),t[21]||(t[21]=e("span",{class:"logo-badge"},"ADMIN",-1))]),e("nav",_e,[c(d,{to:"/",class:"nav-link"},{default:v(()=>[...t[22]||(t[22]=[e("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e("polyline",{points:"9 22 9 12 15 12 15 22"})],-1),i(" Dashboard ",-1)])]),_:1}),c(d,{to:"/applicators",class:"nav-link"},{default:v(()=>[...t[23]||(t[23]=[e("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e("circle",{cx:"9",cy:"7",r:"4"}),e("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})],-1),i(" Aplicadores ",-1)])]),_:1}),c(d,{to:"/projects",class:"nav-link"},{default:v(()=>[...t[24]||(t[24]=[e("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})],-1),i(" Projetos ",-1)])]),_:1}),c(d,{to:"/reports",class:"nav-link"},{default:v(()=>[...t[25]||(t[25]=[e("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"}),e("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e("polyline",{points:"10 9 9 9 8 9"})],-1),i(" Relatorios ",-1)])]),_:1}),c(d,{to:"/requests",class:"nav-link"},{default:v(()=>[t[26]||(t[26]=e("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})],-1)),t[27]||(t[27]=i(" Solicitacoes ",-1)),u.value.total>0?(l(),a("span",Re,n(u.value.total),1)):r("",!0)]),_:1}),c(d,{to:"/campaigns",class:"nav-link"},{default:v(()=>[...t[28]||(t[28]=[e("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),e("line",{x1:"4",y1:"22",x2:"4",y2:"15"})],-1),i(" Campanhas ",-1)])]),_:1}),c(d,{to:"/academy",class:"nav-link"},{default:v(()=>[...t[29]||(t[29]=[e("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),e("polyline",{points:"2 17 12 22 22 17"}),e("polyline",{points:"2 12 12 17 22 12"})],-1),i(" Academia ",-1)])]),_:1}),c(d,{to:"/map",class:"nav-link"},{default:v(()=>[...t[30]||(t[30]=[e("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),e("line",{x1:"8",y1:"2",x2:"8",y2:"18"}),e("line",{x1:"16",y1:"6",x2:"16",y2:"22"})],-1),i(" Mapa ",-1)])]),_:1}),c(d,{to:"/scheduling",class:"nav-link"},{default:v(()=>[...t[31]||(t[31]=[e("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e("line",{x1:"3",y1:"10",x2:"21",y2:"10"})],-1),i(" Agenda ",-1)])]),_:1})]),e("div",Ae,[e("div",Ne,[e("div",Be,[w(f(g).user?.photoUrl)?(l(),a("img",{key:0,src:w(f(g).user?.photoUrl),alt:"Avatar",class:"avatar-img"},null,8,Me)):(l(),a("span",Te,n(T(f(g).user?.name)),1))]),e("span",Se,n(f(g).user?.name),1)]),e("button",{onClick:V,class:"logout-btn"},[...t[32]||(t[32]=[e("svg",{class:"btn-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e("polyline",{points:"16 17 21 12 16 7"}),e("line",{x1:"21",y1:"12",x2:"9",y2:"12"})],-1),i(" Sair ",-1)])])])]),e("div",Ie,[e("div",Pe,[e("button",{class:x({active:p.value==="all"}),onClick:t[0]||(t[0]=o=>{p.value="all",h()})},[t[33]||(t[33]=i(" Todas ",-1)),u.value.total>0?(l(),a("span",je,n(u.value.total),1)):r("",!0)],2),e("button",{class:x({active:p.value==="CONTRIBUTION"}),onClick:t[1]||(t[1]=o=>{p.value="CONTRIBUTION",h()})},[t[34]||(t[34]=b('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-454de0c6><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-454de0c6></path><circle cx="8.5" cy="7" r="4" data-v-454de0c6></circle><line x1="20" y1="8" x2="20" y2="14" data-v-454de0c6></line><line x1="23" y1="11" x2="17" y2="11" data-v-454de0c6></line></svg> Inclusao ',2)),u.value.contributions>0?(l(),a("span",De,n(u.value.contributions),1)):r("",!0)],2),e("button",{class:x({active:p.value==="ABSENCE"}),onClick:t[2]||(t[2]=o=>{p.value="ABSENCE",h()})},[t[35]||(t[35]=b('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-454de0c6><rect x="3" y="4" width="18" height="18" rx="2" ry="2" data-v-454de0c6></rect><line x1="16" y1="2" x2="16" y2="6" data-v-454de0c6></line><line x1="8" y1="2" x2="8" y2="6" data-v-454de0c6></line><line x1="3" y1="10" x2="21" y2="10" data-v-454de0c6></line><line x1="9" y1="14" x2="15" y2="20" data-v-454de0c6></line><line x1="15" y1="14" x2="9" y2="20" data-v-454de0c6></line></svg> Faltas ',2)),u.value.absences>0?(l(),a("span",Oe,n(u.value.absences),1)):r("",!0)],2),e("button",{class:x({active:p.value==="HELP_REQUEST"}),onClick:t[3]||(t[3]=o=>{p.value="HELP_REQUEST",h()})},[t[36]||(t[36]=e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})],-1)),t[37]||(t[37]=i(" Ajuda ",-1)),u.value.helpRequests>0?(l(),a("span",Ue,n(u.value.helpRequests),1)):r("",!0)],2),e("button",{class:x({active:p.value==="MATERIAL_REQUEST"}),onClick:t[4]||(t[4]=o=>{p.value="MATERIAL_REQUEST",h()})},[t[38]||(t[38]=e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})],-1)),t[39]||(t[39]=i(" Material ",-1)),u.value.materialRequests>0?(l(),a("span",Le,n(u.value.materialRequests),1)):r("",!0)],2)])]),e("div",Ve,[I.value?(l(),a("div",He,"Carregando...")):S.value.length===0?(l(),a("div",ze," Nenhuma solicitacao encontrada ")):(l(),a("div",Qe,[(l(!0),a(R,null,z(S.value,o=>(l(),a("div",{key:o.id,class:x(["request-card",{"has-action":H(o)}])},[e("div",{class:"card-title",style:M({borderColor:j(o.type)})},[o.type==="CONTRIBUTION"?(l(),a("svg",$e,[...t[40]||(t[40]=[e("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},null,-1),e("circle",{cx:"8.5",cy:"7",r:"4"},null,-1),e("line",{x1:"20",y1:"8",x2:"20",y2:"14"},null,-1),e("line",{x1:"23",y1:"11",x2:"17",y2:"11"},null,-1)])])):o.type==="ABSENCE"?(l(),a("svg",Ge,[...t[41]||(t[41]=[b('<rect x="3" y="4" width="18" height="18" rx="2" ry="2" data-v-454de0c6></rect><line x1="16" y1="2" x2="16" y2="6" data-v-454de0c6></line><line x1="8" y1="2" x2="8" y2="6" data-v-454de0c6></line><line x1="3" y1="10" x2="21" y2="10" data-v-454de0c6></line><line x1="9" y1="14" x2="15" y2="20" data-v-454de0c6></line><line x1="15" y1="14" x2="9" y2="20" data-v-454de0c6></line>',6)])])):o.type==="HELP_REQUEST"?(l(),a("svg",Fe,[...t[42]||(t[42]=[e("circle",{cx:"12",cy:"12",r:"10"},null,-1),e("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},null,-1),e("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"},null,-1)])])):(l(),a("svg",Je,[...t[43]||(t[43]=[e("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},null,-1)])])),e("span",{style:M({color:j(o.type)})},n(q(o.type)),5),e("span",{class:"type-badge",style:M({backgroundColor:j(o.type)})},n(o.type==="CONTRIBUTION"?"Projeto":o.type==="ABSENCE"?"Falta":o.type==="HELP_REQUEST"?"Ajuda":"Material"),5)],4),e("div",We,[e("div",Xe,[e("div",Ke,[w(o.user?.photoUrl)?(l(),a("img",{key:0,src:w(o.user?.photoUrl),alt:o.user?.name},null,8,Ye)):(l(),a("span",Ze,n(T(o.user?.name)),1))]),e("div",qe,[e("span",et,n(o.user?.name||"Sem nome"),1),e("span",tt,n(o.user?.email),1),o.user?.phone?(l(),a("span",ot,n(o.user.phone),1)):r("",!0)])]),e("div",{class:"status-badge",style:M({backgroundColor:ee(o.status)})},n(te(o.status)),5)]),e("div",st,[o.type==="CONTRIBUTION"?(l(),a(R,{key:0},[e("div",at,[e("div",lt,[t[44]||(t[44]=b('<div class="project-label" data-v-454de0c6><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-454de0c6><circle cx="12" cy="12" r="10" data-v-454de0c6></circle><line x1="12" y1="8" x2="12" y2="12" data-v-454de0c6></line><line x1="12" y1="16" x2="12.01" y2="16" data-v-454de0c6></line></svg> Projeto Solicitado: </div>',1)),e("div",nt,n(o.project?.title||o.project?.cliente||"Sem nome"),1)]),e("div",it,[t[45]||(t[45]=e("div",{class:"project-label"},[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e("circle",{cx:"12",cy:"10",r:"3"})]),i(" Projeto Atual (check-in): ")],-1)),e("div",{class:x(["project-value",{"no-project":!o.details?.currentProject}])},n(o.details?.currentProject?o.details.currentProject.title||o.details.currentProject.cliente:"Sem check-in ativo"),3)])]),o.project?.endereco?(l(),a("div",rt,[t[46]||(t[46]=e("span",{class:"label"},"Endereco:",-1)),e("span",dt,n(o.project?.endereco),1)])):r("",!0),o.details?.description?(l(),a("div",ct,[t[47]||(t[47]=e("span",{class:"label"},"Motivo:",-1)),e("span",vt,n(o.details.description),1)])):r("",!0)],64)):o.type==="ABSENCE"?(l(),a("div",ut,[e("div",pt,[t[49]||(t[49]=b('<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-454de0c6><rect x="3" y="4" width="18" height="18" rx="2" ry="2" data-v-454de0c6></rect><line x1="16" y1="2" x2="16" y2="6" data-v-454de0c6></line><line x1="8" y1="2" x2="8" y2="6" data-v-454de0c6></line><line x1="3" y1="10" x2="21" y2="10" data-v-454de0c6></line></svg>',1)),e("div",yt,[t[48]||(t[48]=e("span",{class:"label"},"Data da Falta:",-1)),e("span",ht,n(oe(o.details?.absenceDate)),1)])]),o.details?.reason?(l(),a("div",kt,[t[50]||(t[50]=e("span",{class:"label"},"Motivo:",-1)),e("span",gt,n(o.details.reason),1)])):r("",!0),o.project?(l(),a("div",xt,[t[51]||(t[51]=e("span",{class:"label"},"Projeto Escalado:",-1)),e("span",wt,n(o.project.title||o.project.cliente),1)])):r("",!0),o.details?.scheduledTasks?.length>0?(l(),a("div",Ct,[t[52]||(t[52]=e("span",{class:"label"},"Tarefas do dia:",-1)),e("ul",Et,[(l(!0),a(R,null,z(o.details.scheduledTasks,(E,ae)=>(l(),a("li",{key:ae},[i(n(E.title)+" ",1),e("span",ft,"- "+n(E.project),1)]))),128))])])):r("",!0),o.details?.xpPenalty>0||o.details?.multiplierReset?(l(),a("div",bt,[e("span",mt,[t[53]||(t[53]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})],-1)),i(" Penalidade: -"+n(o.details.xpPenalty)+" XP ",1),o.details.multiplierReset?(l(),a("span",_t,"(Multiplicador resetado)")):r("",!0)])])):o.details?.wasAdvanceNotice?(l(),a("div",Rt,[...t[54]||(t[54]=[e("span",{class:"no-penalty-badge"},[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"20 6 9 17 4 12"})]),i(" Aviso com antecedencia - Sem penalidade ")],-1)])])):r("",!0),o.details?.isUnreported?(l(),a("div",At,[...t[55]||(t[55]=[b('<span class="unreported-badge" data-v-454de0c6><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-454de0c6><circle cx="12" cy="12" r="10" data-v-454de0c6></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" data-v-454de0c6></path><line x1="12" y1="17" x2="12.01" y2="17" data-v-454de0c6></line></svg> Falta detectada automaticamente </span>',1)])])):r("",!0),o.details?.acknowledgedAt?(l(),a("div",Nt,[e("span",Bt,[t[56]||(t[56]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"20 6 9 17 4 12"})],-1)),i(" Admin ciente em "+n(D(o.details.acknowledgedAt)),1)])])):r("",!0)])):(l(),a(R,{key:2},[o.project?(l(),a("div",Mt,[t[57]||(t[57]=e("span",{class:"label"},[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})]),i(" Projeto: ")],-1)),e("span",Tt,n(o.project?.title||o.project?.cliente),1)])):r("",!0),o.type==="MATERIAL_REQUEST"&&o.details?.materialName?(l(),a("div",St,[t[58]||(t[58]=e("span",{class:"label"},"Material:",-1)),e("span",It,n(o.details.materialName),1)])):r("",!0),o.details?.quantity?(l(),a("div",Pt,[t[59]||(t[59]=e("span",{class:"label"},"Quantidade:",-1)),e("span",jt,n(o.details.quantity),1)])):r("",!0),o.details?.description?(l(),a("div",Dt,[t[60]||(t[60]=e("span",{class:"label"},"Descricao:",-1)),e("p",Ot,n(o.details.description),1)])):r("",!0),o.details?.audioTranscription?(l(),a("div",Ut,[t[61]||(t[61]=b('<span class="label" data-v-454de0c6><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-454de0c6><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" data-v-454de0c6></path><path d="M19 10v2a7 7 0 0 1-14 0v-2" data-v-454de0c6></path><line x1="12" y1="19" x2="12" y2="23" data-v-454de0c6></line><line x1="8" y1="23" x2="16" y2="23" data-v-454de0c6></line></svg> Transcricao: </span>',1)),e("p",Lt,n(o.details.audioTranscription),1)])):r("",!0),o.details?.audioUrl?(l(),a("div",Vt,[t[62]||(t[62]=e("span",{class:"label"},"Audio:",-1)),e("audio",{controls:"",src:w(o.details.audioUrl),class:"audio-control"},null,8,Ht)])):r("",!0),o.details?.videoUrl?(l(),a("div",zt,[t[63]||(t[63]=e("span",{class:"label"},"Video:",-1)),e("video",{controls:"",src:w(o.details.videoUrl),class:"video-control"},null,8,Qt)])):r("",!0),o.details?.adminNotes?(l(),a("div",$t,[t[64]||(t[64]=e("span",{class:"label"},"Notas do Admin:",-1)),e("p",Gt,n(o.details.adminNotes),1)])):r("",!0)],64)),e("div",Ft,[e("span",Jt,[t[65]||(t[65]=e("span",{class:"label"},"Criado em:",-1)),e("span",Wt,n(D(o.createdAt)),1)]),o.reviewedAt?(l(),a("span",Xt,[t[66]||(t[66]=e("span",{class:"label"},"Revisado em:",-1)),e("span",Kt,n(D(o.reviewedAt)),1)])):r("",!0),o.reviewedBy?(l(),a("span",Yt,[t[67]||(t[67]=e("span",{class:"label"},"Por:",-1)),e("span",Zt,n(o.reviewedBy.name),1)])):r("",!0)])]),H(o)?(l(),a("div",qt,[o.type==="CONTRIBUTION"&&o.status==="PENDING"?(l(),a(R,{key:0},[e("button",{class:"btn-approve",onClick:E=>X(o.id)},[...t[68]||(t[68]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"20 6 9 17 4 12"})],-1),i(" Aprovar ",-1)])],8,eo),e("button",{class:"btn-reject",onClick:E=>K(o.id)},[...t[69]||(t[69]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1),i(" Rejeitar ",-1)])],8,to)],64)):r("",!0),o.type==="ABSENCE"&&!o.details?.acknowledgedAt?(l(),a("button",{key:1,class:"btn-acknowledge",onClick:E=>Y(o.id)},[...t[70]||(t[70]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"20 6 9 17 4 12"})],-1),i(" Estou Ciente ",-1)])],8,oo)):r("",!0),(o.type==="HELP_REQUEST"||o.type==="MATERIAL_REQUEST")&&(o.status==="PENDING"||o.status==="IN_PROGRESS")?(l(),a(R,{key:2},[o.status==="PENDING"?(l(),a("button",{key:0,class:"btn-progress",onClick:E=>P(o.id,"progress")},[...t[71]||(t[71]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 6 12 12 16 14"})],-1),i(" Em Progresso ",-1)])],8,so)):r("",!0),e("button",{class:"btn-resolve",onClick:E=>P(o.id,"resolve")},[...t[72]||(t[72]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"20 6 9 17 4 12"})],-1),i(" Resolver ",-1)])],8,ao),e("button",{class:"btn-cancel",onClick:E=>P(o.id,"cancel")},[...t[73]||(t[73]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1),i(" Cancelar ",-1)])],8,lo)],64)):r("",!0)])):r("",!0)],2))),128))]))]),A.value?(l(),a("div",{key:1,class:"modal-overlay",onClick:t[7]||(t[7]=ce(o=>A.value=!1,["self"]))},[e("div",no,[e("h3",null,n(se()),1),e("div",io,[t[74]||(t[74]=e("label",null,"Notas (opcional):",-1)),ve(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=o=>_.value=o),placeholder:"Adicione notas sobre esta acao..."},null,512),[[ue,_.value]])]),e("div",ro,[e("button",{class:"btn-secondary",onClick:t[6]||(t[6]=o=>A.value=!1)},"Cancelar"),e("button",{class:x(["btn-primary",{"btn-green":C.value==="resolve","btn-blue":C.value==="progress","btn-red":C.value==="cancel"}]),onClick:Z}," Confirmar ",2)])])])):r("",!0)])}}}),yo=he(co,[["__scopeId","data-v-454de0c6"]]);export{yo as default};
