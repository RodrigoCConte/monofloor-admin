import{_ as V}from"./logo-CxXS7KxG.js";import{d as L,u as E,r as g,h as j,i as I,c as o,b as H,a as t,j as a,k as n,l as T,f as u,t as r,m as i,n as O,F as f,p as C,q as P,g as q,s as M,o as e,_ as W}from"./index-BxA64SRE.js";const F={class:"dashboard"},$={class:"mobile-nav"},G={class:"mobile-sidebar-footer"},J={class:"mobile-user-info"},K={class:"user-avatar"},Q=["src"],X={key:1},Y={class:"user-name"},Z={class:"header"},tt={class:"nav desktop-nav"},st={class:"header-right"},ot={class:"user-avatar"},et=["src"],it={key:1},lt={class:"user-name"},at={class:"main"},nt={key:0,class:"loading"},rt={key:1,class:"error-container"},dt={class:"error-message"},vt={class:"stats-section"},ct={class:"stats-grid"},ht={class:"stat-card"},pt={class:"stat-content"},ut={class:"stat-value"},gt={class:"stat-card"},yt={class:"stat-content"},wt={class:"stat-value"},kt={class:"stat-card"},xt={class:"stat-content"},mt={class:"stat-value"},bt={class:"stat-card gold"},_t={class:"stat-content"},ft={class:"stat-value"},Ct={class:"two-columns"},Mt={class:"card"},Bt={key:0,class:"empty"},At={key:1,class:"applicator-list"},zt={class:"rank"},St={class:"applicator-avatar"},Vt=["src"],jt={key:1},Ht={class:"applicator-info"},Pt={class:"applicator-name"},Ut={class:"applicator-role"},Nt={class:"applicator-stats"},Rt={class:"m2-value"},Dt={class:"card"},Lt={class:"card-header"},Et={key:0,class:"online-count"},It={key:0,class:"empty"},Tt={key:1,class:"applicator-list"},Ot={class:"applicator-avatar online"},qt=["src"],Wt={key:1},Ft={class:"applicator-info"},$t={class:"applicator-name"},Gt={class:"project-tag"},Jt=L({__name:"Dashboard",setup(Kt){const U=q(),h=E(),y=g(!1),B=g(window.innerWidth<768),N=()=>{y.value=!y.value},c=()=>{y.value=!1},A=()=>{B.value=window.innerWidth<768,B.value||(y.value=!1)};j(()=>{window.addEventListener("resize",A)}),I(()=>{window.removeEventListener("resize",A)});const R="https://admin.monofloor.cloud",p=d=>d?d.startsWith("http")?d:`${R}${d}`:null,x=d=>d?d.split(" ").map(s=>s[0]).join("").substring(0,2).toUpperCase():"?",w=g(null),b=g([]),k=g([]),_=g(!0),m=g(null),z=()=>{h.logout(),U.push("/login")},S=async()=>{_.value=!0,m.value=null;try{const[d,s,l]=await Promise.all([M.getStats(),M.getTopApplicators(),M.getOnlineApplicators()]);w.value=d.data.data,b.value=s.data.data||[],k.value=l.data.data||[]}catch(d){console.error("Error loading dashboard:",d),m.value=d.response?.data?.error?.message||d.message||"Erro ao carregar dashboard"}finally{_.value=!1}};return j(S),(d,s)=>{const l=T("router-link");return e(),o("div",F,[y.value?(e(),o("div",{key:0,class:"mobile-overlay",onClick:c})):H("",!0),t("aside",{class:O(["mobile-sidebar",{open:y.value}])},[t("div",{class:"mobile-sidebar-header"},[s[1]||(s[1]=t("img",{src:V,alt:"Monofloor",class:"header-logo"},null,-1)),t("button",{class:"close-menu-btn",onClick:c},[...s[0]||(s[0]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),t("nav",$,[a(l,{to:"/",class:"mobile-nav-link",onClick:c},{default:n(()=>[...s[2]||(s[2]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"3",width:"7",height:"9"}),t("rect",{x:"14",y:"3",width:"7",height:"5"}),t("rect",{x:"14",y:"12",width:"7",height:"9"}),t("rect",{x:"3",y:"16",width:"7",height:"5"})],-1),i(" Dashboard ",-1)])]),_:1}),a(l,{to:"/applicators",class:"mobile-nav-link",onClick:c},{default:n(()=>[...s[3]||(s[3]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t("circle",{cx:"9",cy:"7",r:"4"}),t("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})],-1),i(" Aplicadores ",-1)])]),_:1}),a(l,{to:"/projects",class:"mobile-nav-link",onClick:c},{default:n(()=>[...s[4]||(s[4]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t("polyline",{points:"9 22 9 12 15 12 15 22"})],-1),i(" Projetos ",-1)])]),_:1}),a(l,{to:"/reports",class:"mobile-nav-link",onClick:c},{default:n(()=>[...s[5]||(s[5]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t("polyline",{points:"14 2 14 8 20 8"})],-1),i(" Relatorios ",-1)])]),_:1}),a(l,{to:"/requests",class:"mobile-nav-link",onClick:c},{default:n(()=>[...s[6]||(s[6]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t("polyline",{points:"14 2 14 8 20 8"}),t("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),t("line",{x1:"9",y1:"15",x2:"15",y2:"15"})],-1),i(" Solicitacoes ",-1)])]),_:1}),a(l,{to:"/campaigns",class:"mobile-nav-link",onClick:c},{default:n(()=>[...s[7]||(s[7]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),t("line",{x1:"4",y1:"22",x2:"4",y2:"15"})],-1),i(" Campanhas ",-1)])]),_:1}),a(l,{to:"/academy",class:"mobile-nav-link",onClick:c},{default:n(()=>[...s[8]||(s[8]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),t("polyline",{points:"2 17 12 22 22 17"}),t("polyline",{points:"2 12 12 17 22 12"})],-1),i(" Academia ",-1)])]),_:1}),a(l,{to:"/map",class:"mobile-nav-link",onClick:c},{default:n(()=>[...s[9]||(s[9]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),t("line",{x1:"8",y1:"2",x2:"8",y2:"18"}),t("line",{x1:"16",y1:"6",x2:"16",y2:"22"})],-1),i(" Mapa ",-1)])]),_:1}),a(l,{to:"/scheduling",class:"mobile-nav-link",onClick:c},{default:n(()=>[...s[10]||(s[10]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),t("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),t("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),t("line",{x1:"3",y1:"10",x2:"21",y2:"10"})],-1),i(" Agenda ",-1)])]),_:1})]),t("div",G,[t("div",J,[t("div",K,[p(u(h).user?.photoUrl)?(e(),o("img",{key:0,src:p(u(h).user?.photoUrl),alt:"Avatar",class:"avatar-img"},null,8,Q)):(e(),o("span",X,r(x(u(h).user?.name)),1))]),t("span",Y,r(u(h).user?.name),1)]),t("button",{onClick:z,class:"mobile-logout-btn"},[...s[11]||(s[11]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t("polyline",{points:"16 17 21 12 16 7"}),t("line",{x1:"21",y1:"12",x2:"9",y2:"12"})],-1),i(" Sair ",-1)])])])],2),t("header",Z,[t("div",{class:"header-left"},[t("button",{class:"hamburger-btn",onClick:N},[...s[12]||(s[12]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),t("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t("line",{x1:"3",y1:"18",x2:"21",y2:"18"})],-1)])]),s[13]||(s[13]=t("img",{src:V,alt:"Monofloor",class:"header-logo"},null,-1)),s[14]||(s[14]=t("span",{class:"logo-badge"},"ADMIN",-1))]),t("nav",tt,[a(l,{to:"/",class:"nav-link"},{default:n(()=>[...s[15]||(s[15]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"3",width:"7",height:"9"}),t("rect",{x:"14",y:"3",width:"7",height:"5"}),t("rect",{x:"14",y:"12",width:"7",height:"9"}),t("rect",{x:"3",y:"16",width:"7",height:"5"})],-1),i(" Dashboard ",-1)])]),_:1}),a(l,{to:"/applicators",class:"nav-link"},{default:n(()=>[...s[16]||(s[16]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t("circle",{cx:"9",cy:"7",r:"4"}),t("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})],-1),i(" Aplicadores ",-1)])]),_:1}),a(l,{to:"/projects",class:"nav-link"},{default:n(()=>[...s[17]||(s[17]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t("polyline",{points:"9 22 9 12 15 12 15 22"})],-1),i(" Projetos ",-1)])]),_:1}),a(l,{to:"/reports",class:"nav-link"},{default:n(()=>[...s[18]||(s[18]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t("polyline",{points:"14 2 14 8 20 8"}),t("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t("polyline",{points:"10 9 9 9 8 9"})],-1),i(" Relatorios ",-1)])]),_:1}),a(l,{to:"/requests",class:"nav-link"},{default:n(()=>[...s[19]||(s[19]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t("polyline",{points:"14 2 14 8 20 8"}),t("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),t("line",{x1:"9",y1:"15",x2:"15",y2:"15"})],-1),i(" Solicitacoes ",-1)])]),_:1}),a(l,{to:"/campaigns",class:"nav-link"},{default:n(()=>[...s[20]||(s[20]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),t("line",{x1:"4",y1:"22",x2:"4",y2:"15"})],-1),i(" Campanhas ",-1)])]),_:1}),a(l,{to:"/academy",class:"nav-link"},{default:n(()=>[...s[21]||(s[21]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),t("polyline",{points:"2 17 12 22 22 17"}),t("polyline",{points:"2 12 12 17 22 12"})],-1),i(" Academia ",-1)])]),_:1}),a(l,{to:"/map",class:"nav-link"},{default:n(()=>[...s[22]||(s[22]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),t("line",{x1:"8",y1:"2",x2:"8",y2:"18"}),t("line",{x1:"16",y1:"6",x2:"16",y2:"22"})],-1),i(" Mapa ",-1)])]),_:1}),a(l,{to:"/scheduling",class:"nav-link"},{default:n(()=>[...s[23]||(s[23]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),t("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),t("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),t("line",{x1:"3",y1:"10",x2:"21",y2:"10"})],-1),i(" Agenda ",-1)])]),_:1})]),t("div",st,[t("div",ot,[p(u(h).user?.photoUrl)?(e(),o("img",{key:0,src:p(u(h).user?.photoUrl),alt:"Avatar",class:"avatar-img"},null,8,et)):(e(),o("span",it,r(x(u(h).user?.name)),1))]),t("span",lt,r(u(h).user?.name),1),t("button",{onClick:z,class:"logout-btn"},"Sair")])]),t("main",at,[_.value?(e(),o("div",nt,[...s[24]||(s[24]=[t("div",{class:"loading-spinner"},null,-1),t("span",null,"Carregando...",-1)])])):m.value?(e(),o("div",rt,[t("div",dt,r(m.value),1),t("button",{onClick:S,class:"retry-btn"},"Tentar novamente")])):(e(),o(f,{key:2},[t("section",vt,[s[34]||(s[34]=t("h2",null,"Visao Geral",-1)),t("div",ct,[t("div",ht,[s[26]||(s[26]=C('<div class="stat-icon blue" data-v-1deab18b><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-1deab18b><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" data-v-1deab18b></path><circle cx="9" cy="7" r="4" data-v-1deab18b></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87" data-v-1deab18b></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-1deab18b></path></svg></div>',1)),t("div",pt,[t("div",ut,r(w.value?.totalApplicators||0),1),s[25]||(s[25]=t("div",{class:"stat-label"},"Aplicadores",-1))])]),t("div",gt,[s[28]||(s[28]=t("div",{class:"stat-icon green"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t("polyline",{points:"9 22 9 12 15 12 15 22"})])],-1)),t("div",yt,[t("div",wt,r(w.value?.activeProjects||0),1),s[27]||(s[27]=t("div",{class:"stat-label"},"Projetos Ativos",-1))])]),t("div",kt,[s[30]||(s[30]=t("div",{class:"stat-icon orange"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polyline",{points:"12 6 12 12 16 14"})])],-1)),t("div",xt,[t("div",mt,r(w.value?.pendingApprovals||0),1),s[29]||(s[29]=t("div",{class:"stat-label"},"Aprovacoes Pendentes",-1))])]),t("div",bt,[s[33]||(s[33]=C('<div class="stat-icon gold" data-v-1deab18b><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-1deab18b><rect x="3" y="3" width="18" height="18" rx="2" ry="2" data-v-1deab18b></rect><line x1="3" y1="9" x2="21" y2="9" data-v-1deab18b></line><line x1="9" y1="21" x2="9" y2="9" data-v-1deab18b></line></svg></div>',1)),t("div",_t,[t("div",ft,[i(r(w.value?.totalM2Applied?.toLocaleString()||0)+" ",1),s[31]||(s[31]=t("span",{class:"unit"},"m2",-1))]),s[32]||(s[32]=t("div",{class:"stat-label"},"Total Aplicado",-1))])])])]),t("div",Ct,[t("section",Mt,[s[36]||(s[36]=t("div",{class:"card-header"},[t("h3",null,"Top Aplicadores"),t("span",{class:"card-badge"},"Por m2 aplicados")],-1)),b.value.length===0?(e(),o("div",Bt," Nenhum aplicador encontrado ")):(e(),o("ul",At,[(e(!0),o(f,null,P(b.value,(v,D)=>(e(),o("li",{key:v.id,class:"applicator-item"},[t("div",zt,r(D+1),1),t("div",St,[p(v.photoUrl)?(e(),o("img",{key:0,src:p(v.photoUrl),alt:"Avatar",class:"avatar-img"},null,8,Vt)):(e(),o("span",jt,r(x(v.name)),1))]),t("div",Ht,[t("span",Pt,r(v.name),1),t("span",Ut,r(v.role),1)]),t("div",Nt,[t("span",Rt,r(v.totalM2Applied?.toLocaleString()||0),1),s[35]||(s[35]=t("span",{class:"m2-label"},"m2",-1))])]))),128))]))]),t("section",Dt,[t("div",Lt,[s[37]||(s[37]=t("h3",null,"Aplicadores Online",-1)),k.value.length?(e(),o("span",Et,r(k.value.length)+" ativos",1)):H("",!0)]),k.value.length===0?(e(),o("div",It,[...s[38]||(s[38]=[C('<div class="empty-icon" data-v-1deab18b><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-1deab18b><circle cx="12" cy="12" r="10" data-v-1deab18b></circle><path d="M8 14s1.5 2 4 2 4-2 4-2" data-v-1deab18b></path><line x1="9" y1="9" x2="9.01" y2="9" data-v-1deab18b></line><line x1="15" y1="9" x2="15.01" y2="9" data-v-1deab18b></line></svg></div> Nenhum aplicador online no momento ',2)])])):(e(),o("ul",Tt,[(e(!0),o(f,null,P(k.value,v=>(e(),o("li",{key:v.checkinId,class:"applicator-item"},[t("div",Ot,[p(v.user?.photoUrl)?(e(),o("img",{key:0,src:p(v.user?.photoUrl),alt:"Avatar",class:"avatar-img"},null,8,qt)):(e(),o("span",Wt,r(x(v.user?.name)),1))]),t("div",Ft,[t("span",$t,r(v.user?.name||"Sem nome"),1),t("span",Gt,r(v.project?.title||"Sem projeto"),1)]),s[39]||(s[39]=t("div",{class:"online-indicator"},[t("span",{class:"online-dot"}),i(" Online ")],-1))]))),128))]))])])],64))])])}}}),Yt=W(Jt,[["__scopeId","data-v-1deab18b"]]);export{Yt as default};
