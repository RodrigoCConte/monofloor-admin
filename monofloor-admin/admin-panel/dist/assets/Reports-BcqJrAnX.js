import{d as nt,u as rt,r as p,h as dt,i as vt,c as a,b as v,a as t,j as u,k as c,l as ut,f,t as n,m as r,n as ct,p as C,e as U,y as H,F as P,q as R,z as G,w as J,g as ht,C as pt,K as V,o as i,_ as gt}from"./index-BxA64SRE.js";import{_ as Q}from"./logo-CxXS7KxG.js";const kt={class:"reports-page"},yt={class:"mobile-nav"},wt={class:"mobile-sidebar-footer"},ft={class:"mobile-user-info"},xt={class:"user-avatar"},mt=["src"],Ct={key:1},_t={class:"user-name"},bt={class:"header"},Mt={class:"nav desktop-nav"},Bt={class:"header-right"},Dt={class:"user-info"},St={class:"user-avatar"},Pt=["src"],Rt={key:1},jt={class:"user-name"},At={key:1,class:"stats-section"},Vt={class:"stat-card"},Tt={class:"stat-info"},Et={class:"stat-value"},zt={class:"stat-card"},Ut={class:"stat-info"},Ht={class:"stat-value"},$t={class:"stat-card"},Ft={class:"stat-info"},It={class:"stat-value"},Lt={class:"stat-card"},Nt={class:"stat-info"},Ot={class:"stat-value"},Wt={class:"stat-card"},qt={class:"stat-info"},Kt={class:"stat-value"},Gt={class:"filter-section"},Jt={class:"filter-group"},Qt={class:"filter-group"},Xt=["value"],Yt={class:"filter-group"},Zt={class:"page-content"},te={key:0,class:"loading"},ee={key:1,class:"empty-state"},se={key:2,class:"reports-grid"},oe=["onClick"],le={class:"card-header"},ae={class:"user-section"},ie={class:"user-avatar-sm"},ne=["src","alt"],re={key:1},de={class:"user-details"},ve={class:"user-name"},ue={class:"user-role"},ce={key:0,class:"project-info"},he={class:"report-preview"},pe={key:0,class:"preview-text"},ge={key:1,class:"preview-empty"},ke={key:1,class:"tags"},ye={key:0,class:"tag more"},we={class:"media-indicators"},fe={key:0,class:"indicator",title:"Possui audio"},xe={key:1,class:"indicator",title:"Possui fotos"},me={class:"card-footer"},Ce={class:"date"},_e={key:0,class:"checkin-info"},be={key:3,class:"pagination"},Me=["disabled"],Be={class:"page-info"},De=["disabled"],Se={class:"modal-content modal-large"},Pe={class:"modal-header"},Re={class:"modal-body"},je={class:"detail-section"},Ae={class:"user-header"},Ve={class:"user-avatar-lg"},Te=["src","alt"],Ee={key:1},ze={class:"user-info-detail"},Ue={class:"name"},He={class:"email"},$e={key:0,class:"phone"},Fe={key:0,class:"detail-section"},Ie={class:"project-detail"},Le={class:"project-title"},Ne={key:0,class:"project-address"},Oe={key:1,class:"detail-section"},We={class:"checkin-detail"},qe={class:"checkin-row"},Ke={class:"value"},Ge={key:0,class:"checkin-row"},Je={class:"value"},Qe={key:1,class:"checkin-row"},Xe={class:"value highlight"},Ye={class:"detail-section"},Ze={class:"date-value"},ts={key:2,class:"detail-section"},es={class:"tags-list"},ss={key:3,class:"detail-section"},os={class:"notes-content"},ls={key:4,class:"detail-section"},as={class:"transcription-content"},is={key:5,class:"detail-section"},ns=["src"],rs={key:0,class:"audio-duration"},ds={key:6,class:"detail-section"},vs={class:"photos-grid"},us=["onClick"],cs=["src","alt"],hs={key:7,class:"detail-section"},ps={class:"ai-summary"},gs={class:"modal-footer"},ks=["disabled"],ys=["src"],ws=["disabled"],fs={class:"photo-counter"},xs=nt({__name:"Reports",setup(ms){const X=ht(),y=rt(),_=p(!1),$=p(window.innerWidth<768),Y=()=>{_.value=!_.value},g=()=>{_.value=!1},F=()=>{$.value=window.innerWidth<768,$.value||(_.value=!1)},Z="https://admin.monofloor.cloud",k=o=>{if(o)return o.startsWith("http")?o:`${Z}${o}`},j=o=>o?o.split(" ").map(e=>e[0]).join("").substring(0,2).toUpperCase():"?",T=p([]),I=p([]),x=p(null),E=p(!0),h=p({page:1,limit:30,total:0,totalPages:0}),B=p("all"),D=p("all"),S=p("all"),b=p(!1),l=p(null),A=p(!1),w=p(0),L=()=>{y.logout(),X.push("/login")},tt=async()=>{try{const o=await pt.getAll({limit:100});I.value=o.data.data||[]}catch(o){console.error("Error loading projects:",o)}},N=async()=>{try{const o=await V.getStats();x.value=o.data.data}catch(o){console.error("Error loading stats:",o)}},m=async()=>{E.value=!0;try{const o={page:h.value.page,limit:h.value.limit};if(B.value!=="all"&&(o.status=B.value),D.value!=="all"&&(o.projectId=D.value),S.value!=="all"){const d=new Date;let s;switch(S.value){case"today":s=new Date(d.setHours(0,0,0,0));break;case"week":s=new Date(d.setDate(d.getDate()-7));break;case"month":s=new Date(d.setMonth(d.getMonth()-1));break;default:s=new Date}o.startDate=s.toISOString()}const e=await V.getAll(o);T.value=e.data.data?.reports||[],h.value={...h.value,...e.data.data?.pagination}}catch(o){console.error("Error loading reports:",o)}finally{E.value=!1}},et=async o=>{try{const e=await V.getById(o.id);l.value=e.data.data,b.value=!0}catch(e){console.error("Error loading report detail:",e),l.value=o,b.value=!0}},st=async o=>{try{await V.update(o,{status:"PROCESSED"}),await m(),await N(),l.value?.id===o&&(l.value.status="PROCESSED")}catch(e){console.error("Error updating report:",e),alert("Erro ao atualizar relatorio")}},ot=o=>{w.value=o,A.value=!0},O=o=>{switch(o){case"PROCESSED":return"var(--accent-green)";case"SUBMITTED":return"var(--accent-blue)";case"DRAFT":return"var(--text-tertiary)";default:return"var(--text-tertiary)"}},W=o=>{switch(o){case"PROCESSED":return"Processado";case"SUBMITTED":return"Enviado";case"DRAFT":return"Rascunho";default:return o}},z=o=>o?new Date(o).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",lt=o=>o?new Date(o).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"}):"-",at=o=>o?new Date(o).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"-",q=o=>{if(!o)return"-";const e=Math.floor(o),d=Math.round((o-e)*60);return`${e}h${d>0?` ${d}m`:""}`},it=()=>{B.value="all",D.value="all",S.value="all",h.value.page=1,m()},K=o=>{o>=1&&o<=h.value.totalPages&&(h.value.page=o,m())};return dt(async()=>{window.addEventListener("resize",F),await Promise.all([m(),tt(),N()])}),vt(()=>{window.removeEventListener("resize",F)}),(o,e)=>{const d=ut("router-link");return i(),a("div",kt,[_.value?(i(),a("div",{key:0,class:"mobile-overlay",onClick:g})):v("",!0),t("aside",{class:ct(["mobile-sidebar",{open:_.value}])},[t("div",{class:"mobile-sidebar-header"},[e[18]||(e[18]=t("img",{src:Q,alt:"Monofloor",class:"header-logo"},null,-1)),t("button",{class:"close-menu-btn",onClick:g},[...e[17]||(e[17]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),t("nav",yt,[u(d,{to:"/",class:"mobile-nav-link",onClick:g},{default:c(()=>[...e[19]||(e[19]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t("polyline",{points:"9 22 9 12 15 12 15 22"})],-1),r(" Dashboard ",-1)])]),_:1}),u(d,{to:"/applicators",class:"mobile-nav-link",onClick:g},{default:c(()=>[...e[20]||(e[20]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t("circle",{cx:"9",cy:"7",r:"4"}),t("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})],-1),r(" Aplicadores ",-1)])]),_:1}),u(d,{to:"/projects",class:"mobile-nav-link",onClick:g},{default:c(()=>[...e[21]||(e[21]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})],-1),r(" Projetos ",-1)])]),_:1}),u(d,{to:"/reports",class:"mobile-nav-link",onClick:g},{default:c(()=>[...e[22]||(e[22]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t("polyline",{points:"14 2 14 8 20 8"})],-1),r(" Relatorios ",-1)])]),_:1}),u(d,{to:"/contributions",class:"mobile-nav-link",onClick:g},{default:c(()=>[...e[23]||(e[23]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),t("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})],-1),r(" Solicitacoes ",-1)])]),_:1}),u(d,{to:"/help-requests",class:"mobile-nav-link",onClick:g},{default:c(()=>[...e[24]||(e[24]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),t("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})],-1),r(" Ajuda/Material ",-1)])]),_:1}),u(d,{to:"/campaigns",class:"mobile-nav-link",onClick:g},{default:c(()=>[...e[25]||(e[25]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),t("line",{x1:"4",y1:"22",x2:"4",y2:"15"})],-1),r(" Campanhas ",-1)])]),_:1}),u(d,{to:"/academy",class:"mobile-nav-link",onClick:g},{default:c(()=>[...e[26]||(e[26]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),t("polyline",{points:"2 17 12 22 22 17"}),t("polyline",{points:"2 12 12 17 22 12"})],-1),r(" Academia ",-1)])]),_:1}),u(d,{to:"/map",class:"mobile-nav-link",onClick:g},{default:c(()=>[...e[27]||(e[27]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),t("line",{x1:"8",y1:"2",x2:"8",y2:"18"}),t("line",{x1:"16",y1:"6",x2:"16",y2:"22"})],-1),r(" Mapa ",-1)])]),_:1})]),t("div",wt,[t("div",ft,[t("div",xt,[k(f(y).user?.photoUrl)?(i(),a("img",{key:0,src:k(f(y).user?.photoUrl),alt:"Avatar",class:"avatar-img"},null,8,mt)):(i(),a("span",Ct,n(j(f(y).user?.name)),1))]),t("span",_t,n(f(y).user?.name),1)]),t("button",{onClick:L,class:"mobile-logout-btn"},[...e[28]||(e[28]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t("polyline",{points:"16 17 21 12 16 7"}),t("line",{x1:"21",y1:"12",x2:"9",y2:"12"})],-1),r(" Sair ",-1)])])])],2),t("header",bt,[t("div",{class:"header-left"},[t("button",{class:"hamburger-btn",onClick:Y},[...e[29]||(e[29]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),t("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t("line",{x1:"3",y1:"18",x2:"21",y2:"18"})],-1)])]),e[30]||(e[30]=t("img",{src:Q,alt:"Monofloor",class:"header-logo"},null,-1)),e[31]||(e[31]=t("span",{class:"logo-badge"},"ADMIN",-1))]),t("nav",Mt,[u(d,{to:"/",class:"nav-link"},{default:c(()=>[...e[32]||(e[32]=[t("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t("polyline",{points:"9 22 9 12 15 12 15 22"})],-1),r(" Dashboard ",-1)])]),_:1}),u(d,{to:"/applicators",class:"nav-link"},{default:c(()=>[...e[33]||(e[33]=[t("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t("circle",{cx:"9",cy:"7",r:"4"}),t("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})],-1),r(" Aplicadores ",-1)])]),_:1}),u(d,{to:"/projects",class:"nav-link"},{default:c(()=>[...e[34]||(e[34]=[t("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})],-1),r(" Projetos ",-1)])]),_:1}),u(d,{to:"/reports",class:"nav-link"},{default:c(()=>[...e[35]||(e[35]=[t("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t("polyline",{points:"14 2 14 8 20 8"}),t("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t("polyline",{points:"10 9 9 9 8 9"})],-1),r(" Relatorios ",-1)])]),_:1}),u(d,{to:"/contributions",class:"nav-link"},{default:c(()=>[...e[36]||(e[36]=[t("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),t("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})],-1),r(" Solicitacoes ",-1)])]),_:1}),u(d,{to:"/help-requests",class:"nav-link"},{default:c(()=>[...e[37]||(e[37]=[t("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),t("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})],-1),r(" Ajuda/Material ",-1)])]),_:1}),u(d,{to:"/campaigns",class:"nav-link"},{default:c(()=>[...e[38]||(e[38]=[t("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),t("line",{x1:"4",y1:"22",x2:"4",y2:"15"})],-1),r(" Campanhas ",-1)])]),_:1}),u(d,{to:"/academy",class:"nav-link"},{default:c(()=>[...e[39]||(e[39]=[t("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),t("polyline",{points:"2 17 12 22 22 17"}),t("polyline",{points:"2 12 12 17 22 12"})],-1),r(" Academia ",-1)])]),_:1}),u(d,{to:"/map",class:"nav-link"},{default:c(()=>[...e[40]||(e[40]=[t("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),t("line",{x1:"8",y1:"2",x2:"8",y2:"18"}),t("line",{x1:"16",y1:"6",x2:"16",y2:"22"})],-1),r(" Mapa ",-1)])]),_:1}),u(d,{to:"/scheduling",class:"nav-link"},{default:c(()=>[...e[41]||(e[41]=[t("svg",{class:"nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),t("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),t("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),t("line",{x1:"3",y1:"10",x2:"21",y2:"10"})],-1),r(" Agenda ",-1)])]),_:1})]),t("div",Bt,[t("div",Dt,[t("div",St,[k(f(y).user?.photoUrl)?(i(),a("img",{key:0,src:k(f(y).user?.photoUrl),alt:"Avatar",class:"avatar-img"},null,8,Pt)):(i(),a("span",Rt,n(j(f(y).user?.name)),1))]),t("span",jt,n(f(y).user?.name),1)]),t("button",{onClick:L,class:"logout-btn"},[...e[42]||(e[42]=[t("svg",{class:"btn-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),t("polyline",{points:"16 17 21 12 16 7"}),t("line",{x1:"21",y1:"12",x2:"9",y2:"12"})],-1),r(" Sair ",-1)])])])]),x.value?(i(),a("div",At,[t("div",Vt,[e[44]||(e[44]=t("div",{class:"stat-icon blue"},[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t("polyline",{points:"14 2 14 8 20 8"})])],-1)),t("div",Tt,[t("span",Et,n(x.value.totalReports),1),e[43]||(e[43]=t("span",{class:"stat-label"},"Total de Relatorios",-1))])]),t("div",zt,[e[46]||(e[46]=t("div",{class:"stat-icon green"},[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polyline",{points:"12 6 12 12 16 14"})])],-1)),t("div",Ut,[t("span",Ht,n(x.value.todayReports),1),e[45]||(e[45]=t("span",{class:"stat-label"},"Hoje",-1))])]),t("div",$t,[e[48]||(e[48]=C('<div class="stat-icon purple" data-v-6f5e1560><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6f5e1560><rect x="3" y="4" width="18" height="18" rx="2" ry="2" data-v-6f5e1560></rect><line x1="16" y1="2" x2="16" y2="6" data-v-6f5e1560></line><line x1="8" y1="2" x2="8" y2="6" data-v-6f5e1560></line><line x1="3" y1="10" x2="21" y2="10" data-v-6f5e1560></line></svg></div>',1)),t("div",Ft,[t("span",It,n(x.value.weekReports),1),e[47]||(e[47]=t("span",{class:"stat-label"},"Ultima Semana",-1))])]),t("div",Lt,[e[50]||(e[50]=C('<div class="stat-icon orange" data-v-6f5e1560><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6f5e1560><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" data-v-6f5e1560></path><path d="M19 10v2a7 7 0 0 1-14 0v-2" data-v-6f5e1560></path><line x1="12" y1="19" x2="12" y2="23" data-v-6f5e1560></line></svg></div>',1)),t("div",Nt,[t("span",Ot,n(x.value.reportsWithAudio),1),e[49]||(e[49]=t("span",{class:"stat-label"},"Com Audio",-1))])]),t("div",Wt,[e[52]||(e[52]=C('<div class="stat-icon gold" data-v-6f5e1560><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6f5e1560><rect x="3" y="3" width="18" height="18" rx="2" ry="2" data-v-6f5e1560></rect><circle cx="8.5" cy="8.5" r="1.5" data-v-6f5e1560></circle><polyline points="21 15 16 10 5 21" data-v-6f5e1560></polyline></svg></div>',1)),t("div",qt,[t("span",Kt,n(x.value.reportsWithPhotos),1),e[51]||(e[51]=t("span",{class:"stat-label"},"Com Fotos",-1))])])])):v("",!0),t("div",Gt,[t("div",Jt,[e[54]||(e[54]=t("label",null,"Status:",-1)),U(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>B.value=s),onChange:e[1]||(e[1]=s=>m())},[...e[53]||(e[53]=[t("option",{value:"all"},"Todos",-1),t("option",{value:"SUBMITTED"},"Enviados",-1),t("option",{value:"PROCESSED"},"Processados",-1),t("option",{value:"DRAFT"},"Rascunhos",-1)])],544),[[H,B.value]])]),t("div",Qt,[e[56]||(e[56]=t("label",null,"Projeto:",-1)),U(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>D.value=s),onChange:e[3]||(e[3]=s=>m())},[e[55]||(e[55]=t("option",{value:"all"},"Todos os Projetos",-1)),(i(!0),a(P,null,R(I.value,s=>(i(),a("option",{key:s.id,value:s.id},n(s.cliente||s.title),9,Xt))),128))],544),[[H,D.value]])]),t("div",Yt,[e[58]||(e[58]=t("label",null,"Periodo:",-1)),U(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>S.value=s),onChange:e[5]||(e[5]=s=>m())},[...e[57]||(e[57]=[t("option",{value:"all"},"Todos",-1),t("option",{value:"today"},"Hoje",-1),t("option",{value:"week"},"Ultima Semana",-1),t("option",{value:"month"},"Ultimo Mes",-1)])],544),[[H,S.value]])]),t("button",{class:"btn-reset",onClick:it},[...e[59]||(e[59]=[C('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6f5e1560><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" data-v-6f5e1560></path><path d="M21 3v5h-5" data-v-6f5e1560></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" data-v-6f5e1560></path><path d="M8 16H3v5" data-v-6f5e1560></path></svg> Limpar ',2)])])]),t("div",Zt,[E.value?(i(),a("div",te,"Carregando relatorios...")):T.value.length===0?(i(),a("div",ee,[...e[60]||(e[60]=[t("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1"},[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t("polyline",{points:"14 2 14 8 20 8"})],-1),t("p",null,"Nenhum relatorio encontrado",-1)])])):(i(),a("div",se,[(i(!0),a(P,null,R(T.value,s=>(i(),a("div",{key:s.id,class:"report-card",onClick:M=>et(s)},[t("div",le,[t("div",ae,[t("div",ie,[k(s.user?.photoUrl)?(i(),a("img",{key:0,src:k(s.user?.photoUrl),alt:s.user?.name},null,8,ne)):(i(),a("span",re,n(j(s.user?.name)),1))]),t("div",de,[t("span",ve,n(s.user?.name||"Sem nome"),1),t("span",ue,n(s.user?.role),1)])]),t("div",{class:"status-badge",style:G({backgroundColor:O(s.status)})},n(W(s.status)),5)]),s.project?(i(),a("div",ce,[e[61]||(e[61]=t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})],-1)),t("span",null,n(s.project?.cliente||s.project?.title),1)])):v("",!0),t("div",he,[s.notes||s.audioTranscription?(i(),a("div",pe,n((s.notes||s.audioTranscription||"").substring(0,150))+n((s.notes||s.audioTranscription||"").length>150?"...":""),1)):(i(),a("div",ge,[...e[62]||(e[62]=[t("em",null,"Sem descricao",-1)])]))]),s.tags&&s.tags.length>0?(i(),a("div",ke,[(i(!0),a(P,null,R(s.tags.slice(0,3),M=>(i(),a("span",{key:M,class:"tag"},n(M),1))),128)),s.tags.length>3?(i(),a("span",ye,"+"+n(s.tags.length-3),1)):v("",!0)])):v("",!0),t("div",we,[s.audioFileUrl?(i(),a("span",fe,[...e[63]||(e[63]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),t("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"})],-1)])])):v("",!0),s.photos&&s.photos.length>0?(i(),a("span",xe,[e[64]||(e[64]=t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),t("polyline",{points:"21 15 16 10 5 21"})],-1)),r(" "+n(s.photos.length),1)])):v("",!0)]),t("div",me,[t("span",Ce,[e[65]||(e[65]=C('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6f5e1560><rect x="3" y="4" width="18" height="18" rx="2" ry="2" data-v-6f5e1560></rect><line x1="16" y1="2" x2="16" y2="6" data-v-6f5e1560></line><line x1="8" y1="2" x2="8" y2="6" data-v-6f5e1560></line><line x1="3" y1="10" x2="21" y2="10" data-v-6f5e1560></line></svg>',1)),r(" "+n(lt(s.reportDate))+" "+n(at(s.reportDate)),1)]),s.checkin?(i(),a("span",_e,[e[66]||(e[66]=t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polyline",{points:"12 6 12 12 16 14"})],-1)),r(" "+n(q(s.checkin?.hoursWorked)),1)])):v("",!0)])],8,oe))),128))])),h.value.totalPages>1?(i(),a("div",be,[t("button",{disabled:h.value.page===1,onClick:e[6]||(e[6]=s=>K(h.value.page-1))},[...e[67]||(e[67]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"15 18 9 12 15 6"})],-1)])],8,Me),t("span",Be," Pagina "+n(h.value.page)+" de "+n(h.value.totalPages),1),t("button",{disabled:h.value.page===h.value.totalPages,onClick:e[7]||(e[7]=s=>K(h.value.page+1))},[...e[68]||(e[68]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"9 18 15 12 9 6"})],-1)])],8,De)])):v("",!0)]),b.value&&l.value?(i(),a("div",{key:2,class:"modal-overlay",onClick:e[11]||(e[11]=J(s=>b.value=!1,["self"]))},[t("div",Se,[t("div",Pe,[e[70]||(e[70]=t("h3",null,"Detalhes do Relatorio",-1)),t("button",{class:"close-btn",onClick:e[8]||(e[8]=s=>b.value=!1)},[...e[69]||(e[69]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),t("div",Re,[t("div",je,[t("div",Ae,[t("div",Ve,[k(l.value.user?.photoUrl)?(i(),a("img",{key:0,src:k(l.value.user?.photoUrl),alt:l.value.user?.name},null,8,Te)):(i(),a("span",Ee,n(j(l.value.user?.name)),1))]),t("div",ze,[t("span",Ue,n(l.value.user?.name),1),t("span",He,n(l.value.user?.email),1),l.value.user?.phone?(i(),a("span",$e,n(l.value.user.phone),1)):v("",!0)]),t("div",{class:"status-badge",style:G({backgroundColor:O(l.value.status)})},n(W(l.value.status)),5)])]),l.value.project?(i(),a("div",Fe,[e[71]||(e[71]=t("h4",null,[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})]),r(" Projeto ")],-1)),t("div",Ie,[t("span",Le,n(l.value.project?.cliente||l.value.project?.title),1),l.value.project?.endereco?(i(),a("span",Ne,n(l.value.project.endereco),1)):v("",!0)])])):v("",!0),l.value.checkin?(i(),a("div",Oe,[e[75]||(e[75]=t("h4",null,[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polyline",{points:"12 6 12 12 16 14"})]),r(" Sessao de Trabalho ")],-1)),t("div",We,[t("div",qe,[e[72]||(e[72]=t("span",{class:"label"},"Check-in:",-1)),t("span",Ke,n(z(l.value.checkin.checkinAt)),1)]),l.value.checkin.checkoutAt?(i(),a("div",Ge,[e[73]||(e[73]=t("span",{class:"label"},"Checkout:",-1)),t("span",Je,n(z(l.value.checkin.checkoutAt)),1)])):v("",!0),l.value.checkin.hoursWorked?(i(),a("div",Qe,[e[74]||(e[74]=t("span",{class:"label"},"Duracao:",-1)),t("span",Xe,n(q(l.value.checkin.hoursWorked)),1)])):v("",!0)])])):v("",!0),t("div",Ye,[e[76]||(e[76]=C('<h4 data-v-6f5e1560><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6f5e1560><rect x="3" y="4" width="18" height="18" rx="2" ry="2" data-v-6f5e1560></rect><line x1="16" y1="2" x2="16" y2="6" data-v-6f5e1560></line><line x1="8" y1="2" x2="8" y2="6" data-v-6f5e1560></line><line x1="3" y1="10" x2="21" y2="10" data-v-6f5e1560></line></svg> Data do Relatorio </h4>',1)),t("span",Ze,n(z(l.value.reportDate)),1)]),l.value.tags&&l.value.tags.length>0?(i(),a("div",ts,[e[77]||(e[77]=t("h4",null,[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),t("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]),r(" Tags ")],-1)),t("div",es,[(i(!0),a(P,null,R(l.value.tags,s=>(i(),a("span",{key:s,class:"tag"},n(s),1))),128))])])):v("",!0),l.value.notes?(i(),a("div",ss,[e[78]||(e[78]=C('<h4 data-v-6f5e1560><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6f5e1560><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-6f5e1560></path><polyline points="14 2 14 8 20 8" data-v-6f5e1560></polyline><line x1="16" y1="13" x2="8" y2="13" data-v-6f5e1560></line><line x1="16" y1="17" x2="8" y2="17" data-v-6f5e1560></line></svg> Notas </h4>',1)),t("div",os,n(l.value.notes),1)])):v("",!0),l.value.audioTranscription?(i(),a("div",ls,[e[79]||(e[79]=t("h4",null,[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),t("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),t("line",{x1:"12",y1:"19",x2:"12",y2:"23"})]),r(" Transcricao do Audio ")],-1)),t("div",as,n(l.value.audioTranscription),1)])):v("",!0),l.value.audioFileUrl?(i(),a("div",is,[e[80]||(e[80]=t("h4",null,"Audio Original",-1)),t("audio",{controls:"",src:k(l.value.audioFileUrl),class:"audio-player"},null,8,ns),l.value.audioDurationSeconds?(i(),a("span",rs," Duracao: "+n(Math.floor(l.value.audioDurationSeconds/60))+":"+n(String(l.value.audioDurationSeconds%60).padStart(2,"0")),1)):v("",!0)])):v("",!0),l.value.photos&&l.value.photos.length>0?(i(),a("div",ds,[t("h4",null,[e[81]||(e[81]=t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),t("polyline",{points:"21 15 16 10 5 21"})],-1)),r(" Fotos ("+n(l.value.photos.length)+") ",1)]),t("div",vs,[(i(!0),a(P,null,R(l.value.photos,(s,M)=>(i(),a("div",{key:s.id,class:"photo-item",onClick:Cs=>ot(M)},[t("img",{src:k(s.url),alt:`Foto ${M+1}`},null,8,cs)],8,us))),128))])])):v("",!0),l.value.aiSummary?(i(),a("div",hs,[e[82]||(e[82]=t("h4",null,[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})]),r(" Resumo AI ")],-1)),t("div",ps,n(l.value.aiSummary),1)])):v("",!0)]),t("div",gs,[l.value.status==="SUBMITTED"?(i(),a("button",{key:0,class:"btn-primary",onClick:e[9]||(e[9]=s=>st(l.value.id))},[...e[83]||(e[83]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"20 6 9 17 4 12"})],-1),r(" Marcar como Processado ",-1)])])):v("",!0),t("button",{class:"btn-secondary",onClick:e[10]||(e[10]=s=>b.value=!1)},"Fechar")])])])):v("",!0),A.value&&l.value?(i(),a("div",{key:3,class:"photo-modal-overlay",onClick:e[16]||(e[16]=s=>A.value=!1)},[t("div",{class:"photo-modal-content",onClick:e[15]||(e[15]=J(()=>{},["stop"]))},[t("button",{class:"photo-nav prev",onClick:e[12]||(e[12]=s=>w.value=Math.max(0,w.value-1)),disabled:w.value===0},[...e[84]||(e[84]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"15 18 9 12 15 6"})],-1)])],8,ks),t("img",{src:k(l.value.photos[w.value]?.url),class:"photo-full"},null,8,ys),t("button",{class:"photo-nav next",onClick:e[13]||(e[13]=s=>w.value=Math.min(l.value.photos.length-1,w.value+1)),disabled:w.value===l.value.photos.length-1},[...e[85]||(e[85]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"9 18 15 12 9 6"})],-1)])],8,ws),t("div",fs,n(w.value+1)+" / "+n(l.value.photos.length),1),t("button",{class:"photo-close",onClick:e[14]||(e[14]=s=>A.value=!1)},[...e[86]||(e[86]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])])])):v("",!0)])}}}),Ms=gt(xs,[["__scopeId","data-v-6f5e1560"]]);export{Ms as default};
